{"remainingRequest":"D:\\coding\\CzyNotebook\\notebook\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\coding\\CzyNotebook\\notebook\\docs\\.vuepress\\components\\Fantasy.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\coding\\CzyNotebook\\notebook\\docs\\.vuepress\\components\\Fantasy.vue","mtime":1685605312506},{"path":"D:\\coding\\CzyNotebook\\notebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1679311674030},{"path":"D:\\coding\\CzyNotebook\\notebook\\node_modules\\babel-loader\\lib\\index.js","mtime":1679311673578},{"path":"D:\\coding\\CzyNotebook\\notebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1679311674030},{"path":"D:\\coding\\CzyNotebook\\notebook\\node_modules\\vue-loader\\lib\\index.js","mtime":1679311675722}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIG1vdW50ZWQoKSB7DQogICAgLy8g5aaC5p6c5L2/55SoIEluZGV4QmlnSW1nLnZ1Ze+8jOWImeWOu+aOieivpee7hOS7tuaPkOS+m+eahOaXtumXtOe9qQ0KICAgIHRoaXMuY2xlYXJCYW5uZXJDb2xvcigpOw0KICAgIHRoaXMubW91bnRlZEVsZW1lbnQoKTsNCiAgICB0aGlzLmluaXQoKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGluaXQoKSB7DQogICAgICB2YXIgY3ZzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImN2cyIpOw0KICAgICAgaWYgKCFjdnMpIHsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgdmFyIGN0eCA9IGN2cy5nZXRDb250ZXh0KCIyZCIpOw0KDQogICAgICB2YXIgZGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkaXNwbGF5Iik7DQogICAgICB2YXIgZGlzcGxheUN0eCA9IGRpc3BsYXkuZ2V0Q29udGV4dCgiMmQiKTsNCg0KICAgICAgdmFyIHNjcmVlbkltYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNjcmVlbkltYWdlIik7DQogICAgICB2YXIgc2NyZWVuSW1hZ2VDdHggPSBzY3JlZW5JbWFnZS5nZXRDb250ZXh0KCIyZCIpOw0KDQogICAgICB2YXIgcmlsaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyaWxpIik7DQogICAgICB2YXIgcmlsaUN0eCA9IHJpbGkuZ2V0Q29udGV4dCgiMmQiKTsNCg0KICAgICAgdmFyIHNvbmdJbmZvID0ge307DQogICAgICB2YXIgQWxsVGltZUJhayA9IDA7DQogICAgICB2YXIgTm93QmFrID0gMDsNCiAgICAgIHZhciBEcmF3V2FybmluZyA9IGZhbHNlOw0KICAgICAgdmFyIEVuTW9udGggPSBmYWxzZTsNCg0KICAgICAgLy8g5Ye65aSE77yaaHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI2MDExOTUvYXJ0aWNsZS9kZXRhaWxzLzQ3ODYwNjE3DQogICAgICBmdW5jdGlvbiBkcmF3UmlsaSgpIHsNCiAgICAgICAgcmlsaUN0eC5jbGVhclJlY3QoMCwgMCwgNjAwLCA2MDApOw0KICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7DQogICAgICAgIHZhciB5ZWFyID0gZGF0ZS5nZXRZZWFyKCk7DQogICAgICAgIHZhciBtb3V0aCA9IGRhdGUuZ2V0TW9udGgoKTsNCiAgICAgICAgdmFyIHRvZGF5ID0gZGF0ZS5nZXREYXRlKCk7DQogICAgICAgIHZhciB3ZWVrID0gZGF0ZS5nZXREYXkoKTsNCg0KICAgICAgICB2YXIgY2FyZFNpemUgPSA0MDsNCg0KICAgICAgICB2YXIgYXJyYXlfdGhyZWUgPSBbNCwgNiwgOSwgMTFdOw0KICAgICAgICB2YXIgYXJyYXlfdGhyZWVvbmUgPSBbMSwgMywgNSwgNywgOCwgMTAsIDEyXTsNCiAgICAgICAgdmFyIGFycmF5X3dlZWsgPSBbIlNVTiIsICJNT04iLCAiVFVFUyIsICJXRUQiLCAiVEhVUiIsICJGUkkiLCAiU0FUIl07DQoNCiAgICAgICAgdmFyIGZpcnN0RHJhdzsgLy8x5Y+357uY5Yi25L2N572uDQogICAgICAgIHZhciB3SWR4ID0gKHRvZGF5IC0gMSkgJSA3Ow0KDQogICAgICAgIGlmICh3ZWVrID49IHdJZHgpIHsNCiAgICAgICAgICBmaXJzdERyYXcgPSB3ZWVrIC0gd0lkeDsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBmaXJzdERyYXcgPSB3ZWVrIC0gd0lkeCArIDc7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgZGF5SW5kZXggPSAxOw0KICAgICAgICB2YXIgY291bnREYXkgPSAzMDsNCg0KICAgICAgICBpZiAoYXJyYXlfdGhyZWUuaW5kZXhPZihtb3V0aCArIDEpID4gLTEpIHsNCiAgICAgICAgICBjb3VudERheSA9IDMwOw0KICAgICAgICB9IGVsc2UgaWYgKGFycmF5X3RocmVlb25lLmluZGV4T2YobW91dGggKyAxKSA+IC0xKSB7DQogICAgICAgICAgY291bnREYXkgPSAzMTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBpZiAoKHllYXIgJSA0ID09IDAgJiYgeWVhciAlIDEwMCAhPSAwKSB8fCB5ZWFyICUgNDAwID09IDApDQogICAgICAgICAgICBjb3VudERheSA9IDI5Ow0KICAgICAgICAgIGVsc2UgY291bnREYXkgPSAyODsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciByb3cgPSA2Ow0KICAgICAgICAvLyBpZiAoNyAtIGZpcnN0RHJhdyArIDcgKiA0IDwgY291bnREYXkpIHsgLy/noa7lrprooajmoLzooYzmlbDvvIzpmLLmraLml6XmnJ/nu5jliLbkuI3lhagNCiAgICAgICAgLy8gICAgIHJvdyA9IDc7DQogICAgICAgIC8vfQ0KDQogICAgICAgIGZ1bmN0aW9uIGRyYXdUb2RheWJnKGksIGopIHsNCiAgICAgICAgICByaWxpQ3R4LnNhdmUoKTsNCg0KICAgICAgICAgIHJpbGlDdHguYmVnaW5QYXRoKCk7DQogICAgICAgICAgcmlsaUN0eC5zdHJva2VTdHlsZSA9ICIjOTAwIjsNCiAgICAgICAgICByaWxpQ3R4LmFyYygNCiAgICAgICAgICAgIDQ1ICsgaSAqIGNhcmRTaXplICogMS43ICsgY2FyZFNpemUgLyAxLjE4LA0KICAgICAgICAgICAgNTAgKyBqICogY2FyZFNpemUgKyBjYXJkU2l6ZSAvIDIsDQogICAgICAgICAgICBjYXJkU2l6ZSAvIDIgLSAxMCwNCiAgICAgICAgICAgIC1NYXRoLlBJLA0KICAgICAgICAgICAgTWF0aC5QSSAqIDENCiAgICAgICAgICApOw0KICAgICAgICAgIHJpbGlDdHguc3Ryb2tlKCk7DQogICAgICAgICAgcmlsaUN0eC5jbG9zZVBhdGgoKTsNCg0KICAgICAgICAgIHJpbGlDdHguYmVnaW5QYXRoKCk7DQogICAgICAgICAgcmlsaUN0eC5hcmMoDQogICAgICAgICAgICA0NSArIGkgKiBjYXJkU2l6ZSAqIDEuNyArIGNhcmRTaXplIC8gMS4xOCwNCiAgICAgICAgICAgIDUwICsgaiAqIGNhcmRTaXplICsgY2FyZFNpemUgLyAyLA0KICAgICAgICAgICAgY2FyZFNpemUgLyAyIC0gOSwNCiAgICAgICAgICAgIC1NYXRoLlBJLA0KICAgICAgICAgICAgTWF0aC5QSSAqIDAuOQ0KICAgICAgICAgICk7DQogICAgICAgICAgcmlsaUN0eC5zdHJva2UoKTsNCiAgICAgICAgICByaWxpQ3R4LmNsb3NlUGF0aCgpOw0KDQogICAgICAgICAgcmlsaUN0eC5iZWdpblBhdGgoKTsNCiAgICAgICAgICByaWxpQ3R4LmFyYygNCiAgICAgICAgICAgIDQ1ICsgaSAqIGNhcmRTaXplICogMS43ICsgY2FyZFNpemUgLyAxLjE4LA0KICAgICAgICAgICAgNTAgKyBqICogY2FyZFNpemUgKyBjYXJkU2l6ZSAvIDIsDQogICAgICAgICAgICBjYXJkU2l6ZSAvIDIgLSA4LA0KICAgICAgICAgICAgLU1hdGguUEksDQogICAgICAgICAgICBNYXRoLlBJICogMC44DQogICAgICAgICAgKTsNCiAgICAgICAgICByaWxpQ3R4LnN0cm9rZSgpOw0KICAgICAgICAgIHJpbGlDdHguY2xvc2VQYXRoKCk7DQoNCiAgICAgICAgICByaWxpQ3R4LmJlZ2luUGF0aCgpOw0KICAgICAgICAgIHJpbGlDdHguYXJjKA0KICAgICAgICAgICAgNDUgKyBpICogY2FyZFNpemUgKiAxLjcgKyBjYXJkU2l6ZSAvIDEuMTgsDQogICAgICAgICAgICA1MCArIGogKiBjYXJkU2l6ZSArIGNhcmRTaXplIC8gMiwNCiAgICAgICAgICAgIGNhcmRTaXplIC8gMiAtIDcsDQogICAgICAgICAgICAtTWF0aC5QSSwNCiAgICAgICAgICAgIE1hdGguUEkgKiAwLjcNCiAgICAgICAgICApOw0KICAgICAgICAgIHJpbGlDdHguc3Ryb2tlKCk7DQogICAgICAgICAgcmlsaUN0eC5jbG9zZVBhdGgoKTsNCg0KICAgICAgICAgIHJpbGlDdHguYmVnaW5QYXRoKCk7DQogICAgICAgICAgcmlsaUN0eC5hcmMoDQogICAgICAgICAgICA0NSArIGkgKiBjYXJkU2l6ZSAqIDEuNyArIGNhcmRTaXplIC8gMS4xOCwNCiAgICAgICAgICAgIDUwICsgaiAqIGNhcmRTaXplICsgY2FyZFNpemUgLyAyLA0KICAgICAgICAgICAgY2FyZFNpemUgLyAyIC0gNiwNCiAgICAgICAgICAgIC1NYXRoLlBJLA0KICAgICAgICAgICAgTWF0aC5QSSAqIDAuNg0KICAgICAgICAgICk7DQogICAgICAgICAgcmlsaUN0eC5zdHJva2UoKTsNCiAgICAgICAgICByaWxpQ3R4LmNsb3NlUGF0aCgpOw0KDQogICAgICAgICAgcmlsaUN0eC5yZXN0b3JlKCk7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgaXNOdW0gPSAvXlxkKyhcZCspPyQvOw0KDQogICAgICAgIGZ1bmN0aW9uIGRyYXdEYXRlKHR4dCwgaSwgaikgew0KICAgICAgICAgIHJpbGlDdHgudGV4dEFsaWduID0gImNlbnRlciI7DQogICAgICAgICAgcmlsaUN0eC5maWxsU3R5bGUgPSAicmdiKDY5LDY4LDg0KSI7DQogICAgICAgICAgcmlsaUN0eC5mb250ID0gY2FyZFNpemUgLyAxLjUgKyAicHggSW1wYWN0IjsNCiAgICAgICAgICB2YXIgeU9mZmVzdCA9IDM7DQoNCiAgICAgICAgICBpZiAoKGogPT0gMCB8fCBqID09IDYpICYmIGlzTnVtLnRlc3QodHh0KSkgew0KICAgICAgICAgICAgcmlsaUN0eC5maWxsU3R5bGUgPSAiIzkwMCI7DQogICAgICAgICAgfQ0KDQogICAgICAgICAgcmlsaUN0eC5maWxsVGV4dCgNCiAgICAgICAgICAgIHR4dC50b1N0cmluZygpLA0KICAgICAgICAgICAgNDUgKyBqICogY2FyZFNpemUgKiAxLjcgKyBjYXJkU2l6ZSAvIDEuMTgsDQogICAgICAgICAgICA1MCArIGkgKiBjYXJkU2l6ZSArIChjYXJkU2l6ZSAvIDMpICogMiArIHlPZmZlc3QNCiAgICAgICAgICApOw0KDQogICAgICAgICAgaWYgKHR4dCA9PSB0b2RheSkgew0KICAgICAgICAgICAgZHJhd1RvZGF5YmcoaiwgaSk7DQogICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgcmlsaUN0eC5maWxsU3R5bGUgPSAicmdiKDY5LDY4LDg0KSI7DQogICAgICAgIHJpbGlDdHguZm9udCA9ICI5MDAgMjZwdCBTaW1IZWkiOw0KICAgICAgICByaWxpQ3R4LnRleHRBbGlnbiA9ICJjZW50ZXIiOw0KICAgICAgICB2YXIgbW9udGhDTiA9IFsNCiAgICAgICAgICAi5LiAIiwNCiAgICAgICAgICAi5LqMIiwNCiAgICAgICAgICAi5LiJIiwNCiAgICAgICAgICAi5ZubIiwNCiAgICAgICAgICAi5LqUIiwNCiAgICAgICAgICAi5YWtIiwNCiAgICAgICAgICAi5LiDIiwNCiAgICAgICAgICAi5YWrIiwNCiAgICAgICAgICAi5LmdIiwNCiAgICAgICAgICAi5Y2BIiwNCiAgICAgICAgICAi5Y2B5LiAIiwNCiAgICAgICAgICAi5Y2B5LqMIiwNCiAgICAgICAgXTsNCiAgICAgICAgdmFyIG1vbnRoRU4gPSBbDQogICAgICAgICAgIiBKYW51YXJ5IiwNCiAgICAgICAgICAiRmVicnVhcnkiLA0KICAgICAgICAgICIgIE1hcmNoIiwNCiAgICAgICAgICAiICBBcHJpbCIsDQogICAgICAgICAgIiAgIE1heSIsDQogICAgICAgICAgIiAgSnVuZSIsDQogICAgICAgICAgIiAgSnVseSIsDQogICAgICAgICAgIiBBdWd1c3QiLA0KICAgICAgICAgICJTZXB0ZW1iZXIiLA0KICAgICAgICAgICIgT2N0b2JlciIsDQogICAgICAgICAgIk5vdmVtYmVyIiwNCiAgICAgICAgICAiIERlY2VtYmVyIiwNCiAgICAgICAgXTsNCg0KICAgICAgICBpZiAoRW5Nb250aCkgew0KICAgICAgICAgIHJpbGlDdHguc2NhbGUoMS4xLCAxKTsNCiAgICAgICAgICByaWxpQ3R4LmZpbGxUZXh0KG1vbnRoRU5bbW91dGhdLCAyNDUsIDMyKTsNCiAgICAgICAgICByaWxpQ3R4LnJlc2V0VHJhbnNmb3JtKCk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgcmlsaUN0eC5zY2FsZSgxLjEsIDEpOw0KICAgICAgICAgIHJpbGlDdHguZmlsbFRleHQobW9udGhDTlttb3V0aF0gKyAi5pyIIiwgMjYwLCAzMik7DQogICAgICAgICAgcmlsaUN0eC5yZXNldFRyYW5zZm9ybSgpOw0KDQogICAgICAgICAgcmlsaUN0eC5mb250ID0gIjIwcHQgU2ltSGVpIjsNCiAgICAgICAgICByaWxpQ3R4LnRleHRBbGlnbiA9ICJlbmQiOw0KICAgICAgICAgIHJpbGlDdHguZmlsbFRleHQodG9kYXkgKyAi5pelIiwgNTIwLCAzOCk7DQogICAgICAgIH0NCg0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvdzsgaSsrKSB7DQogICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA3OyBqKyspIHsNCiAgICAgICAgICAgIHJpbGlDdHguc3Ryb2tlUmVjdCgNCiAgICAgICAgICAgICAgNDUgKyBqICogY2FyZFNpemUgKiAxLjcsDQogICAgICAgICAgICAgIDUwICsgaSAqIGNhcmRTaXplLA0KICAgICAgICAgICAgICBjYXJkU2l6ZSAqIDEuNywNCiAgICAgICAgICAgICAgY2FyZFNpemUNCiAgICAgICAgICAgICk7DQogICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgZGF5SW5kZXggPSAxOw0KDQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93OyBpKyspIHsNCiAgICAgICAgICAvL+W8gOWni+e7mOWItuaXpeacn+aVsA0KICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgNzsgaisrKSB7DQogICAgICAgICAgICBpZiAoaSA9PSAwKSB7DQogICAgICAgICAgICAgIC8v6KGo5qC856ys5LiA6KGM57uY5Yi25pif5pyfDQogICAgICAgICAgICAgIGRyYXdEYXRlKGFycmF5X3dlZWtbal0sIGksIGopOw0KICAgICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKGkgPT0gMSAmJiBqIDwgZmlyc3REcmF3KSB7DQogICAgICAgICAgICAgIC8v56Gu5a6aMeWPt+e7mOWItuS9jee9rg0KICAgICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKGRheUluZGV4ID4gY291bnREYXkpIHsNCiAgICAgICAgICAgICAgLy/lj6rnu5jliLbmnIjku73nmoTlpKnmlbANCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGRyYXdEYXRlKGRheUluZGV4KyssIGksIGopOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KDQogICAgICB2YXIgcmlsaUludGVydmFsID0gc2V0SW50ZXJ2YWwoZHJhd1JpbGksIDM2MDAwMDApOw0KICAgICAgZHJhd1JpbGkoKTsNCg0KICAgICAgLy8gQ2FudmFz5aWH5aaZ55qE5Ymq5YiH6JKZ54mI5a6e546wDQogICAgICB2YXIgc2NyZWVuTWFzayA9IG5ldyBJbWFnZSgpOw0KICAgICAgc2NyZWVuTWFzay5zcmMgPSAiL2ZhbnRhc3kvU2NyZWVubWFzay5wbmciOw0KDQogICAgICB2YXIgc2NyZWVuID0gbmV3IEltYWdlKCk7DQogICAgICBzY3JlZW4uc3JjID0gIi9mYW50YXN5L3NjcmVlbi5wbmciOw0KDQogICAgICB2YXIgaXYgPSBzZXRJbnRlcnZhbCgoKSA9PiB7DQogICAgICAgIGlmIChzY3JlZW4uY29tcGxldGUgJiYgc2NyZWVuTWFzay5jb21wbGV0ZSkgew0KICAgICAgICAgIHNjcmVlbkltYWdlQ3R4LmRyYXdJbWFnZShzY3JlZW4sIC0zMDAsIC01MCwgMTI4MCwgNzIwKTsNCiAgICAgICAgICBzY3JlZW5JbWFnZUN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAiZGVzdGluYXRpb24tYXRvcCI7DQogICAgICAgICAgc2NyZWVuSW1hZ2VDdHguZHJhd0ltYWdlKHNjcmVlbk1hc2ssIDAsIDApOw0KICAgICAgICAgIHNjcmVlbkltYWdlQ3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICJzb3VyY2Utb3ZlciI7DQogICAgICAgICAgY2xlYXJJbnRlcnZhbChpdik7DQogICAgICAgIH0NCiAgICAgIH0sIDE0KTsNCg0KICAgICAgLy8g5aWH5aaZ55qE5bGP5bmV5aSn5bCP6Ieq6YCC5bqUDQogICAgICB3aW5kb3cub25yZXNpemUgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgIGRpc3BsYXkud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsNCiAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0ID4gMS44MzMzMzMzMzMzMzMzKSB7DQogICAgICAgICAgZGlzcGxheS5oZWlnaHQgPSAod2luZG93LmlubmVyV2lkdGggLyAxOTgwKSAqIDEwODA7DQogICAgICAgICAgLy8gd2luZG93LnNjcm9sbFRvKDAsICh3aW5kb3cuaW5uZXJIZWlnaHQgLSAxMjMpIC8gMTYpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGRpc3BsYXkuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0Ow0KICAgICAgICB9DQogICAgICB9Ow0KDQogICAgICB3aW5kb3cub25yZXNpemUoKTsNCg0KICAgICAgLy8g5Yqg6L295Zu+54mHDQogICAgICB2YXIgYmcgPSBuZXcgSW1hZ2UoKTsNCiAgICAgIGJnLnNyYyA9ICIvZmFudGFzeS9iZy5wbmciOw0KDQogICAgICB2YXIgbWFzayA9IG5ldyBJbWFnZSgpOw0KICAgICAgbWFzay5zcmMgPSAiL2ZhbnRhc3kvbWFzay5wbmciOw0KDQogICAgICB2YXIgbGlnaHQgPSBuZXcgSW1hZ2UoKTsNCiAgICAgIGxpZ2h0LnNyYyA9ICIvZmFudGFzeS9saWdodC5wbmciOw0KDQogICAgICB2YXIgY2FpZGFpID0gbmV3IEltYWdlKCk7DQogICAgICBjYWlkYWkuc3JjID0gIi9mYW50YXN5L2NhaWRhaS5wbmciOw0KDQogICAgICB2YXIgdHdvID0gbmV3IEltYWdlKCk7DQogICAgICB0d28uc3JjID0gIi9mYW50YXN5LzIyLnBuZyI7DQoNCiAgICAgIHZhciBzY3JlZW5MaWdodCA9IG5ldyBJbWFnZSgpOw0KICAgICAgc2NyZWVuTGlnaHQuc3JjID0gIi9mYW50YXN5L3NjcmVlbkxpZ2h0LnBuZyI7DQoNCiAgICAgIHZhciBwaG9uZUxpZ2h0ID0gbmV3IEltYWdlKCk7DQogICAgICBwaG9uZUxpZ2h0LnNyYyA9ICIvZmFudGFzeS9waG9uZUxpZ2h0LnBuZyI7DQoNCiAgICAgIHZhciBwaG9uZVRleHQgPSBKU09OLnBhcnNlKA0KICAgICAgICAnW3sidGltZSI6MCwidGV4dCI6IuWHjOaZqOWVpiEifSx7InRpbWUiOjYsInRleHQiOiLml6nkuIrlpb0hIn0seyJ0aW1lIjo4LCJ0ZXh0Ijoi5LiK5Y2I5aW9ISJ9LHsidGltZSI6MTEsInRleHQiOiLkvaDlkIPkuoblkJcifSx7InRpbWUiOjEzLCJ0ZXh0Ijoi5LiL5Y2I5aW96bitISJ9LHsidGltZSI6MTYsInRleHQiOiLlgo3mmZrlkq8hIn0seyJ0aW1lIjoxOSwidGV4dCI6IuaZmuWuiSEifV0nDQogICAgICApOw0KDQogICAgICB2YXIgbm9SaWxpID0gZmFsc2U7DQogICAgICB2YXIgdXBkYXRlU29uZ0luZm9IYW5kbGVyID0gLTE7DQoNCiAgICAgIHZhciBkYXRhID0gbmV3IEFycmF5KDEyOCk7DQogICAgICB2YXIgYW5pbURhdGEgPSBuZXcgQXJyYXkoMTI4KTsNCiAgICAgIHZhciBTb3VuZFBsYXlpbmcgPSBmYWxzZTsNCg0KICAgICAgLy8g5aWH5aaZ55qE5Yid5aeL5YyWDQogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEyODsgaSsrKSB7DQogICAgICAgIGRhdGFbaV0gPSBhbmltRGF0YVtpXSA9IDA7DQogICAgICB9DQoNCiAgICAgIC8vIOWlh+WmmeeahE5vcm1hbGl6ZQ0KICAgICAgdmFyIHBlYWtWYWx1ZSA9IDE7DQogICAgICBpZiAod2luZG93LndhbGxwYXBlclJlZ2lzdGVyQXVkaW9MaXN0ZW5lcikgew0KICAgICAgICB3aW5kb3cud2FsbHBhcGVyUmVnaXN0ZXJBdWRpb0xpc3RlbmVyKGZ1bmN0aW9uIChhdWRpb0RhdGEpIHsNCiAgICAgICAgICB2YXIgbWF4ID0gMDsNCg0KICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTI4OyBpKyspIHsNCiAgICAgICAgICAgIGlmIChhdWRpb0RhdGFbaV0gPiBtYXgpIG1heCA9IGF1ZGlvRGF0YVtpXTsNCiAgICAgICAgICB9DQoNCiAgICAgICAgICBwZWFrVmFsdWUgPSBwZWFrVmFsdWUgKiAwLjk5ICsgbWF4ICogMC4wMTsNCg0KICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA2NDsgaSsrKSB7DQogICAgICAgICAgICBkYXRhWzYzIC0gaV0gPSBhdWRpb0RhdGFbaV0gLyBwZWFrVmFsdWU7DQogICAgICAgICAgfQ0KDQogICAgICAgICAgZm9yIChpID0gMDsgaSA8IDY0OyBpKyspIHsNCiAgICAgICAgICAgIGRhdGFbMTI3IC0gaV0gPSBhdWRpb0RhdGFbMTI3IC0gaV07DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHZhciBpdmE7DQogICAgICAgIGxldCBhdWRpbyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImFwbGF5ZXItYnV0dG9uIilbMF07DQogICAgICAgIGlmIChhdWRpbykgew0KICAgICAgICAgIGF1ZGlvLm9uY2xpY2sgPSAoKSA9PiB7DQogICAgICAgICAgICBsZXQgcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImFwbGF5ZXItcGxheSIpWzBdOw0KICAgICAgICAgICAgaWYgKHBsYXkpIHsNCiAgICAgICAgICAgICAgaXZhID0gc2V0SW50ZXJ2YWwoKCkgPT4gew0KICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA2NDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICBwZWFrVmFsdWUgPSBwZWFrVmFsdWUgKiAwLjk5ICsgMSAqIDAuMDE7DQogICAgICAgICAgICAgICAgICBkYXRhWzYzIC0gaV0gPQ0KICAgICAgICAgICAgICAgICAgICAoKE1hdGgucmFuZG9tKCkgKiAwLjQpIC8gcGVha1ZhbHVlKSAqIE1hdGgucmFuZG9tKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA2NDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICBkYXRhWzEyNyAtIGldID0gTWF0aC5yYW5kb20oKSAqIDAuMiAqIE1hdGgucmFuZG9tKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8vIGZvciAodmFyIGkgPSAwOyBpIDwgMTI4OyBpKyspIHsNCiAgICAgICAgICAgICAgICAvLyAgICAgZGF0YVtpXSA9IE1hdGgucmFuZG9tKCk7DQogICAgICAgICAgICAgICAgLy8gfQ0KICAgICAgICAgICAgICB9LCAxMzApOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpdmEpOw0KICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEyODsgaSsrKSB7DQogICAgICAgICAgICAgICAgZGF0YVtpXSA9IGFuaW1EYXRhW2ldID0gMDsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICAgIH0NCg0KICAgICAgLy8gLi4uLg0KICAgICAgZnVuY3Rpb24gbWluKGEsIGIpIHsNCiAgICAgICAgcmV0dXJuIGEgPiBiID8gYiA6IGE7DQogICAgICB9DQoNCiAgICAgIGZ1bmN0aW9uIG1heChhLCBiKSB7DQogICAgICAgIHJldHVybiBhID4gYiA/IGEgOiBiOw0KICAgICAgfQ0KDQogICAgICAvLyDlpYflppnnmoTpopzoibLlj5jljJYNCiAgICAgIHZhciB0YXJnZXRDb2xvciA9IHsgcjogODAsIGc6IDEyMCwgYjogMTY5IH07DQogICAgICB2YXIgY3VycmVudENvbG9yID0geyByOiA4MCwgZzogMTIwLCBiOiAxNjkgfTsNCiAgICAgIHZhciBsaWdodENvbG9yID0geyByOiAwLCBnOiAzNCwgYjogNzcsIGE6IDAgfTsNCg0KICAgICAgZnVuY3Rpb24gY29sb3JUb1JnYihjb2xvcikgew0KICAgICAgICByZXR1cm4gKA0KICAgICAgICAgICJyZ2IoIiArDQogICAgICAgICAgY29sb3Iuci50b1N0cmluZygpICsNCiAgICAgICAgICAiLCIgKw0KICAgICAgICAgIGNvbG9yLmcudG9TdHJpbmcoKSArDQogICAgICAgICAgIiwiICsNCiAgICAgICAgICBjb2xvci5iLnRvU3RyaW5nKCkgKw0KICAgICAgICAgICIpIg0KICAgICAgICApOw0KICAgICAgfQ0KDQogICAgICBmdW5jdGlvbiBjb2xvclRvUmdiYShjb2xvcldpdGhBKSB7DQogICAgICAgIHJldHVybiAoDQogICAgICAgICAgInJnYmEoIiArDQogICAgICAgICAgY29sb3JXaXRoQS5yLnRvU3RyaW5nKCkgKw0KICAgICAgICAgICIsIiArDQogICAgICAgICAgY29sb3JXaXRoQS5nLnRvU3RyaW5nKCkgKw0KICAgICAgICAgICIsIiArDQogICAgICAgICAgY29sb3JXaXRoQS5iLnRvU3RyaW5nKCkgKw0KICAgICAgICAgICIsIiArDQogICAgICAgICAgY29sb3JXaXRoQS5hLnRvU3RyaW5nKCkgKw0KICAgICAgICAgICIpIg0KICAgICAgICApOw0KICAgICAgfQ0KDQogICAgICB2YXIgbmlnaHQgPSBmYWxzZTsNCiAgICAgIHZhciBkZWJ1ZyA9IGZhbHNlOw0KDQogICAgICAvLyBDYW52YXPnmoTlpYflppnlhpLpmakhDQogICAgICBmdW5jdGlvbiByZW5kZXIoKSB7DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTI4OyBpKyspIHsNCiAgICAgICAgICBhbmltRGF0YVtpXSArPSAoZGF0YVtpXSAtIGFuaW1EYXRhW2ldKSAqIDAuMzsNCiAgICAgICAgICBhbmltRGF0YVtpXSA9IG1pbihhbmltRGF0YVtpXSwgMSk7DQogICAgICAgIH0NCg0KICAgICAgICBjdXJyZW50Q29sb3IuciArPSAodGFyZ2V0Q29sb3IuciAtIGN1cnJlbnRDb2xvci5yKSAqIDAuMDE7DQogICAgICAgIGN1cnJlbnRDb2xvci5yID0gbWluKGN1cnJlbnRDb2xvci5yLCAyNTUpOw0KICAgICAgICBjdXJyZW50Q29sb3IuciA9IG1heChjdXJyZW50Q29sb3IuciwgMCk7DQoNCiAgICAgICAgY3VycmVudENvbG9yLmcgKz0gKHRhcmdldENvbG9yLmcgLSBjdXJyZW50Q29sb3IuZykgKiAwLjAxOw0KICAgICAgICBjdXJyZW50Q29sb3IuZyA9IG1pbihjdXJyZW50Q29sb3IuZywgMjU1KTsNCiAgICAgICAgY3VycmVudENvbG9yLmcgPSBtYXgoY3VycmVudENvbG9yLmcsIDApOw0KDQogICAgICAgIGN1cnJlbnRDb2xvci5iICs9ICh0YXJnZXRDb2xvci5iIC0gY3VycmVudENvbG9yLmIpICogMC4wMTsNCiAgICAgICAgY3VycmVudENvbG9yLmIgPSBtaW4oY3VycmVudENvbG9yLmIsIDI1NSk7DQogICAgICAgIGN1cnJlbnRDb2xvci5iID0gbWF4KGN1cnJlbnRDb2xvci5iLCAwKTsNCg0KICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIDE5ODAsIDEwODApOw0KICAgICAgICBjdHguZHJhd0ltYWdlKGJnLCAwLCAwKTsNCiAgICAgICAgY3R4LmRyYXdJbWFnZShtYXNrLCA5NTQsIDk5KTsNCg0KICAgICAgICBjdHguZmlsbFN0eWxlID0gIiM5N2FkYmIiOyAvLyDml7bpl7TnmoTpopzoibINCiAgICAgICAgY3R4LmZvbnQgPSAiMzJwdCBJbXBhY3QiOw0KDQogICAgICAgIGN0eC50cmFuc2Zvcm0oMSwgMi4wNSAqIChNYXRoLlBJIC8gMTgwKSwgMCwgMSwgMCwgMCk7DQoNCiAgICAgICAgdmFyIHRpbWUgPSBuZXcgRGF0ZSgpOw0KICAgICAgICBjdHguZmlsbFRleHQoDQogICAgICAgICAgKHRpbWUuZ2V0SG91cnMoKSA8IDEwID8gIjAiIDogIiIpICsNCiAgICAgICAgICAgIHRpbWUuZ2V0SG91cnMoKS50b1N0cmluZygpICsNCiAgICAgICAgICAgICI6IiArDQogICAgICAgICAgICAodGltZS5nZXRNaW51dGVzKCkgPCAxMCA/ICIwIiA6ICIiKSArDQogICAgICAgICAgICB0aW1lLmdldE1pbnV0ZXMoKSArDQogICAgICAgICAgICAiOiIgKw0KICAgICAgICAgICAgKHRpbWUuZ2V0U2Vjb25kcygpIDwgMTAgPyAiMCIgOiAiIikgKw0KICAgICAgICAgICAgdGltZS5nZXRTZWNvbmRzKCkudG9TdHJpbmcoKSwNCiAgICAgICAgICA3MjUsDQogICAgICAgICAgMzE4DQogICAgICAgICk7DQogICAgICAgIGN0eC5yZXNldFRyYW5zZm9ybSgpOw0KDQogICAgICAgIC8vIOaXpeWOhuacrA0KICAgICAgICBjdHgudHJhbnNmb3JtKDAuOTY0NSwgMCwgMCAqIChNYXRoLlBJIC8gMTgwKSwgMC45NiwgOTY3LCAxMDApOw0KICAgICAgICBjdHgucm90YXRlKDYgKiAoTWF0aC5QSSAvIDE4MCkpOw0KDQogICAgICAgIGlmICghbm9SaWxpKSB7DQogICAgICAgICAgY3R4LmRyYXdJbWFnZShyaWxpLCAwLCAwKTsNCg0KICAgICAgICAgIGN0eC5yZXNldFRyYW5zZm9ybSgpOw0KDQogICAgICAgICAgY3R4LnRyYW5zZm9ybSgwLjk2NDUsIDAsIDkgKiAoTWF0aC5QSSAvIDE4MCksIDEsIDgyNSwgMTYwKTsNCiAgICAgICAgICBjdHgucm90YXRlKDcgKiAoTWF0aC5QSSAvIDE4MCkpOw0KICAgICAgICB9DQoNCiAgICAgICAgdGFyZ2V0Q29sb3IgPSB7IHI6IDgwLCBnOiAxMjAsIGI6IDE2OSB9Ow0KDQogICAgICAgIGlmIChuaWdodCkgew0KICAgICAgICAgIHRhcmdldENvbG9yID0geyByOiAyNTUsIGc6IDc1LCBiOiA4MCB9Ow0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKCFub1JpbGkpIHsNCiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gInJnYmEoMCwwLDAsMC41KSI7DQogICAgICAgICAgY3R4LmZpbGxSZWN0KC0xMCwgMzIwLCA2NTAsIDIpOw0KICAgICAgICB9DQoNCiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yVG9SZ2IoY3VycmVudENvbG9yKTsNCg0KICAgICAgICBpZiAoIW5vUmlsaSkgew0KICAgICAgICAgIGZvciAodmFyIGkgPSAzMjsgaSA8IDk1OyBpKyspDQogICAgICAgICAgICBjdHguZmlsbFJlY3QoDQogICAgICAgICAgICAgIDEwICogKGkgLSAzMiksDQogICAgICAgICAgICAgIDIwICsgKDMwMCAtIDMwMCAqIGFuaW1EYXRhW2ldKSwNCiAgICAgICAgICAgICAgNCwNCiAgICAgICAgICAgICAgMzAwICogYW5pbURhdGFbaV0NCiAgICAgICAgICAgICk7DQogICAgICAgIH0gZWxzZQ0KICAgICAgICAgIGZvciAodmFyIGkgPSAzMjsgaSA8IDk1OyBpKyspDQogICAgICAgICAgICBjdHguZmlsbFJlY3QoDQogICAgICAgICAgICAgIDQwICsgNy41ICogKGkgLSAzMiksDQogICAgICAgICAgICAgIDMwICsgKDMwMCAtIDMwMCAqIGFuaW1EYXRhW2ldKSwNCiAgICAgICAgICAgICAgNCwNCiAgICAgICAgICAgICAgMzAwICogYW5pbURhdGFbaV0NCiAgICAgICAgICAgICk7DQoNCiAgICAgICAgY3R4LnJlc2V0VHJhbnNmb3JtKCk7DQoNCiAgICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICJvdmVybGF5IjsNCiAgICAgICAgY3R4LmRyYXdJbWFnZShsaWdodCwgOTcxLCAxOTcpOw0KICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gInNvdXJjZS1vdmVyIjsNCg0KICAgICAgICBjdHguZHJhd0ltYWdlKGNhaWRhaSwgOTQ5LCAyNSk7DQogICAgICAgIGN0eC5kcmF3SW1hZ2UodHdvLCAxMzE5LCAzNDUpOw0KDQogICAgICAgIC8vIOWknOmXtOWFieeFpw0KICAgICAgICBpZiAobmlnaHQgJiYgbGlnaHRDb2xvci5hIDwgMC43KSB7DQogICAgICAgICAgbGlnaHRDb2xvci5hICs9IDAuMDA1Ow0KICAgICAgICAgIGxpZ2h0Q29sb3IuYSA9IG1pbihsaWdodENvbG9yLmEsIDAuNyk7DQogICAgICAgIH0gZWxzZSBpZiAoIW5pZ2h0KSB7DQogICAgICAgICAgbGlnaHRDb2xvci5hIC09IDAuMDA1Ow0KICAgICAgICAgIGxpZ2h0Q29sb3IuYSA9IG1heChsaWdodENvbG9yLmEsIDAuMCk7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAobGlnaHRDb2xvci5hID4gMCkgew0KICAgICAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAiaGFyZC1saWdodCI7DQogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yVG9SZ2JhKGxpZ2h0Q29sb3IpOw0KICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCAxOTgwLCAxMDgwKTsNCiAgICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gInNvdXJjZS1vdmVyIjsNCg0KICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IGxpZ2h0Q29sb3IuYSAvIDAuNzsNCiAgICAgICAgICBjdHguZHJhd0ltYWdlKHBob25lTGlnaHQsIDg2MCwgNDM3KTsNCiAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8g5bGP5bmVDQogICAgICAgIGN0eC5kcmF3SW1hZ2Uoc2NyZWVuSW1hZ2UsIDAsIDApOw0KICAgICAgICBpZiAobGlnaHRDb2xvci5hID4gMCkgew0KICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IGxpZ2h0Q29sb3IuYSAvIDAuNzsNCiAgICAgICAgICBjdHguZHJhd0ltYWdlKHNjcmVlbkxpZ2h0LCAwLCAwKTsNCiAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxOw0KICAgICAgICB9DQoNCiAgICAgICAgbmlnaHQgPSB0cnVlOw0KICAgICAgICB2YXIgZ3JlZXRpbmcgPSAi5YeM5pmo5ZWmISI7DQoNCiAgICAgICAgcGhvbmVUZXh0LmZvckVhY2goKHYpID0+IHsNCiAgICAgICAgICBpZiAodGltZS5nZXRIb3VycygpID49IHYudGltZSkgew0KICAgICAgICAgICAgZ3JlZXRpbmcgPSB2LnRleHQ7DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCg0KICAgICAgICBpZiAodGltZS5nZXRIb3VycygpID49IDYgJiYgdGltZS5nZXRIb3VycygpIDw9IDE4KSB7DQogICAgICAgICAgbmlnaHQgPSBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIG5pZ2h0ID0gZGVidWcgPyAhbmlnaHQgOiBuaWdodDsNCg0KICAgICAgICAvLyDmiYvmnLoNCiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICIjMDAwIjsNCiAgICAgICAgY3R4LmZvbnQgPSAiMzEuMDJwdCBTaW1IZWkiOw0KDQogICAgICAgIGN0eC50cmFuc2Zvcm0oDQogICAgICAgICAgMS4wOTExLA0KICAgICAgICAgIC0zNSAqIChNYXRoLlBJIC8gMTgwKSwNCiAgICAgICAgICAwLA0KICAgICAgICAgIDAuNTg2OCwNCiAgICAgICAgICAxMTMyLjk0LA0KICAgICAgICAgIDU2NC4wNw0KICAgICAgICApOw0KICAgICAgICBjdHgucm90YXRlKDU2LjUgKiAoTWF0aC5QSSAvIDE4MCkpOw0KICAgICAgICBjdHgudGV4dEFsaWduID0gImNlbnRlciI7DQogICAgICAgIGN0eC5maWxsU3R5bGUgPSAiI2ZmZiI7DQogICAgICAgIGN0eC5maWxsVGV4dChncmVldGluZywgMTM1LCAxMDApOw0KICAgICAgICBjdHgudGV4dEFsaWduID0gInN0YXJ0IjsNCiAgICAgICAgY3R4LnJlc2V0VHJhbnNmb3JtKCk7DQoNCiAgICAgICAgZGlzcGxheUN0eC5kcmF3SW1hZ2UoY3ZzLCAwLCAwLCBkaXNwbGF5LndpZHRoLCBkaXNwbGF5LmhlaWdodCk7DQogICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyKTsNCiAgICAgIH0NCg0KICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpOw0KICAgIH0sDQogICAgbW91bnRlZEVsZW1lbnQoKSB7DQogICAgICB2YXIgZmFudGFzeSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImZhbnRhc3kiKVswXTsNCiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImJhbm5lciIpWzBdLmFwcGVuZENoaWxkKGZhbnRhc3kpOw0KICAgICAgLy8g5LiL6Z2i5piv5YWo5bGA6IOM5pmv5Zu+77yM5aaC5p6c5L2/55So77yM5YiZ5Y+WIHBsdWdpbnMg6YeM5Lul57uE5Lu25ZCN5p2l5rOo5YaM5o+S5Lu2DQogICAgICAvLyBsZXQgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7DQogICAgICAvLyAgIGxldCB0aGVtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInRoZW1lLWNvbnRhaW5lciIpWzBdOw0KICAgICAgLy8gICBpZiAodGhlbWUpIHsNCiAgICAgIC8vICAgICB0aGVtZS5hcHBlbmRDaGlsZChmYW50YXN5KTsNCiAgICAgIC8vICAgfSANCiAgICAgIC8vIH0sIDEwMCk7DQogICAgfSwNCiAgICBjbGVhckJhbm5lckNvbG9yKCkgew0KICAgICAgbGV0IGJhbm5lckNvbG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiYmFubmVyLWNvbG9yIilbMF07DQogICAgICBpZiAoYmFubmVyQ29sb3IpIHsNCiAgICAgICAgYmFubmVyQ29sb3IucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiYW5uZXJDb2xvcik7DQogICAgICB9DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["Fantasy.vue"],"names":[],"mappings":";AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Fantasy.vue","sourceRoot":"docs/.vuepress/components","sourcesContent":["<template>\r\n  <div class=\"fantasy\">\r\n    <canvas id=\"cvs\" class=\"hidden\" width=\"1980\" height=\"1080\"></canvas>\r\n    <canvas id=\"screenImage\" class=\"hidden\" width=\"234\" height=\"357\"></canvas>\r\n    <canvas id=\"rili\" class=\"hidden\" width=\"600\" height=\"600\"></canvas>\r\n    <canvas id=\"display\"></canvas>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  mounted() {\r\n    // 如果使用 IndexBigImg.vue，则去掉该组件提供的时间罩\r\n    this.clearBannerColor();\r\n    this.mountedElement();\r\n    this.init();\r\n  },\r\n  methods: {\r\n    init() {\r\n      var cvs = document.getElementById(\"cvs\");\r\n      if (!cvs) {\r\n        return;\r\n      }\r\n      var ctx = cvs.getContext(\"2d\");\r\n\r\n      var display = document.getElementById(\"display\");\r\n      var displayCtx = display.getContext(\"2d\");\r\n\r\n      var screenImage = document.getElementById(\"screenImage\");\r\n      var screenImageCtx = screenImage.getContext(\"2d\");\r\n\r\n      var rili = document.getElementById(\"rili\");\r\n      var riliCtx = rili.getContext(\"2d\");\r\n\r\n      var songInfo = {};\r\n      var AllTimeBak = 0;\r\n      var NowBak = 0;\r\n      var DrawWarning = false;\r\n      var EnMonth = false;\r\n\r\n      // 出处：https://blog.csdn.net/u012601195/article/details/47860617\r\n      function drawRili() {\r\n        riliCtx.clearRect(0, 0, 600, 600);\r\n        var date = new Date();\r\n        var year = date.getYear();\r\n        var mouth = date.getMonth();\r\n        var today = date.getDate();\r\n        var week = date.getDay();\r\n\r\n        var cardSize = 40;\r\n\r\n        var array_three = [4, 6, 9, 11];\r\n        var array_threeone = [1, 3, 5, 7, 8, 10, 12];\r\n        var array_week = [\"SUN\", \"MON\", \"TUES\", \"WED\", \"THUR\", \"FRI\", \"SAT\"];\r\n\r\n        var firstDraw; //1号绘制位置\r\n        var wIdx = (today - 1) % 7;\r\n\r\n        if (week >= wIdx) {\r\n          firstDraw = week - wIdx;\r\n        } else {\r\n          firstDraw = week - wIdx + 7;\r\n        }\r\n\r\n        var dayIndex = 1;\r\n        var countDay = 30;\r\n\r\n        if (array_three.indexOf(mouth + 1) > -1) {\r\n          countDay = 30;\r\n        } else if (array_threeone.indexOf(mouth + 1) > -1) {\r\n          countDay = 31;\r\n        } else {\r\n          if ((year % 4 == 0 && year % 100 != 0) || year % 400 == 0)\r\n            countDay = 29;\r\n          else countDay = 28;\r\n        }\r\n\r\n        var row = 6;\r\n        // if (7 - firstDraw + 7 * 4 < countDay) { //确定表格行数，防止日期绘制不全\r\n        //     row = 7;\r\n        //}\r\n\r\n        function drawTodaybg(i, j) {\r\n          riliCtx.save();\r\n\r\n          riliCtx.beginPath();\r\n          riliCtx.strokeStyle = \"#900\";\r\n          riliCtx.arc(\r\n            45 + i * cardSize * 1.7 + cardSize / 1.18,\r\n            50 + j * cardSize + cardSize / 2,\r\n            cardSize / 2 - 10,\r\n            -Math.PI,\r\n            Math.PI * 1\r\n          );\r\n          riliCtx.stroke();\r\n          riliCtx.closePath();\r\n\r\n          riliCtx.beginPath();\r\n          riliCtx.arc(\r\n            45 + i * cardSize * 1.7 + cardSize / 1.18,\r\n            50 + j * cardSize + cardSize / 2,\r\n            cardSize / 2 - 9,\r\n            -Math.PI,\r\n            Math.PI * 0.9\r\n          );\r\n          riliCtx.stroke();\r\n          riliCtx.closePath();\r\n\r\n          riliCtx.beginPath();\r\n          riliCtx.arc(\r\n            45 + i * cardSize * 1.7 + cardSize / 1.18,\r\n            50 + j * cardSize + cardSize / 2,\r\n            cardSize / 2 - 8,\r\n            -Math.PI,\r\n            Math.PI * 0.8\r\n          );\r\n          riliCtx.stroke();\r\n          riliCtx.closePath();\r\n\r\n          riliCtx.beginPath();\r\n          riliCtx.arc(\r\n            45 + i * cardSize * 1.7 + cardSize / 1.18,\r\n            50 + j * cardSize + cardSize / 2,\r\n            cardSize / 2 - 7,\r\n            -Math.PI,\r\n            Math.PI * 0.7\r\n          );\r\n          riliCtx.stroke();\r\n          riliCtx.closePath();\r\n\r\n          riliCtx.beginPath();\r\n          riliCtx.arc(\r\n            45 + i * cardSize * 1.7 + cardSize / 1.18,\r\n            50 + j * cardSize + cardSize / 2,\r\n            cardSize / 2 - 6,\r\n            -Math.PI,\r\n            Math.PI * 0.6\r\n          );\r\n          riliCtx.stroke();\r\n          riliCtx.closePath();\r\n\r\n          riliCtx.restore();\r\n        }\r\n\r\n        var isNum = /^\\d+(\\d+)?$/;\r\n\r\n        function drawDate(txt, i, j) {\r\n          riliCtx.textAlign = \"center\";\r\n          riliCtx.fillStyle = \"rgb(69,68,84)\";\r\n          riliCtx.font = cardSize / 1.5 + \"px Impact\";\r\n          var yOffest = 3;\r\n\r\n          if ((j == 0 || j == 6) && isNum.test(txt)) {\r\n            riliCtx.fillStyle = \"#900\";\r\n          }\r\n\r\n          riliCtx.fillText(\r\n            txt.toString(),\r\n            45 + j * cardSize * 1.7 + cardSize / 1.18,\r\n            50 + i * cardSize + (cardSize / 3) * 2 + yOffest\r\n          );\r\n\r\n          if (txt == today) {\r\n            drawTodaybg(j, i);\r\n          }\r\n        }\r\n\r\n        riliCtx.fillStyle = \"rgb(69,68,84)\";\r\n        riliCtx.font = \"900 26pt SimHei\";\r\n        riliCtx.textAlign = \"center\";\r\n        var monthCN = [\r\n          \"一\",\r\n          \"二\",\r\n          \"三\",\r\n          \"四\",\r\n          \"五\",\r\n          \"六\",\r\n          \"七\",\r\n          \"八\",\r\n          \"九\",\r\n          \"十\",\r\n          \"十一\",\r\n          \"十二\",\r\n        ];\r\n        var monthEN = [\r\n          \" January\",\r\n          \"February\",\r\n          \"  March\",\r\n          \"  April\",\r\n          \"   May\",\r\n          \"  June\",\r\n          \"  July\",\r\n          \" August\",\r\n          \"September\",\r\n          \" October\",\r\n          \"November\",\r\n          \" December\",\r\n        ];\r\n\r\n        if (EnMonth) {\r\n          riliCtx.scale(1.1, 1);\r\n          riliCtx.fillText(monthEN[mouth], 245, 32);\r\n          riliCtx.resetTransform();\r\n        } else {\r\n          riliCtx.scale(1.1, 1);\r\n          riliCtx.fillText(monthCN[mouth] + \"月\", 260, 32);\r\n          riliCtx.resetTransform();\r\n\r\n          riliCtx.font = \"20pt SimHei\";\r\n          riliCtx.textAlign = \"end\";\r\n          riliCtx.fillText(today + \"日\", 520, 38);\r\n        }\r\n\r\n        for (var i = 0; i < row; i++) {\r\n          for (var j = 0; j < 7; j++) {\r\n            riliCtx.strokeRect(\r\n              45 + j * cardSize * 1.7,\r\n              50 + i * cardSize,\r\n              cardSize * 1.7,\r\n              cardSize\r\n            );\r\n          }\r\n        }\r\n\r\n        dayIndex = 1;\r\n\r\n        for (var i = 0; i < row; i++) {\r\n          //开始绘制日期数\r\n          for (var j = 0; j < 7; j++) {\r\n            if (i == 0) {\r\n              //表格第一行绘制星期\r\n              drawDate(array_week[j], i, j);\r\n              continue;\r\n            }\r\n\r\n            if (i == 1 && j < firstDraw) {\r\n              //确定1号绘制位置\r\n              continue;\r\n            }\r\n\r\n            if (dayIndex > countDay) {\r\n              //只绘制月份的天数\r\n              break;\r\n            }\r\n\r\n            drawDate(dayIndex++, i, j);\r\n          }\r\n        }\r\n      }\r\n\r\n      var riliInterval = setInterval(drawRili, 3600000);\r\n      drawRili();\r\n\r\n      // Canvas奇妙的剪切蒙版实现\r\n      var screenMask = new Image();\r\n      screenMask.src = \"/fantasy/Screenmask.png\";\r\n\r\n      var screen = new Image();\r\n      screen.src = \"/fantasy/screen.png\";\r\n\r\n      var iv = setInterval(() => {\r\n        if (screen.complete && screenMask.complete) {\r\n          screenImageCtx.drawImage(screen, -300, -50, 1280, 720);\r\n          screenImageCtx.globalCompositeOperation = \"destination-atop\";\r\n          screenImageCtx.drawImage(screenMask, 0, 0);\r\n          screenImageCtx.globalCompositeOperation = \"source-over\";\r\n          clearInterval(iv);\r\n        }\r\n      }, 14);\r\n\r\n      // 奇妙的屏幕大小自适应\r\n      window.onresize = function () {\r\n        display.width = window.innerWidth;\r\n        if (window.innerWidth / window.innerHeight > 1.8333333333333) {\r\n          display.height = (window.innerWidth / 1980) * 1080;\r\n          // window.scrollTo(0, (window.innerHeight - 123) / 16);\r\n        } else {\r\n          display.height = window.innerHeight;\r\n        }\r\n      };\r\n\r\n      window.onresize();\r\n\r\n      // 加载图片\r\n      var bg = new Image();\r\n      bg.src = \"/fantasy/bg.png\";\r\n\r\n      var mask = new Image();\r\n      mask.src = \"/fantasy/mask.png\";\r\n\r\n      var light = new Image();\r\n      light.src = \"/fantasy/light.png\";\r\n\r\n      var caidai = new Image();\r\n      caidai.src = \"/fantasy/caidai.png\";\r\n\r\n      var two = new Image();\r\n      two.src = \"/fantasy/22.png\";\r\n\r\n      var screenLight = new Image();\r\n      screenLight.src = \"/fantasy/screenLight.png\";\r\n\r\n      var phoneLight = new Image();\r\n      phoneLight.src = \"/fantasy/phoneLight.png\";\r\n\r\n      var phoneText = JSON.parse(\r\n        '[{\"time\":0,\"text\":\"凌晨啦!\"},{\"time\":6,\"text\":\"早上好!\"},{\"time\":8,\"text\":\"上午好!\"},{\"time\":11,\"text\":\"你吃了吗\"},{\"time\":13,\"text\":\"下午好鸭!\"},{\"time\":16,\"text\":\"傍晚咯!\"},{\"time\":19,\"text\":\"晚安!\"}]'\r\n      );\r\n\r\n      var noRili = false;\r\n      var updateSongInfoHandler = -1;\r\n\r\n      var data = new Array(128);\r\n      var animData = new Array(128);\r\n      var SoundPlaying = false;\r\n\r\n      // 奇妙的初始化\r\n      for (var i = 0; i < 128; i++) {\r\n        data[i] = animData[i] = 0;\r\n      }\r\n\r\n      // 奇妙的Normalize\r\n      var peakValue = 1;\r\n      if (window.wallpaperRegisterAudioListener) {\r\n        window.wallpaperRegisterAudioListener(function (audioData) {\r\n          var max = 0;\r\n\r\n          for (var i = 0; i < 128; i++) {\r\n            if (audioData[i] > max) max = audioData[i];\r\n          }\r\n\r\n          peakValue = peakValue * 0.99 + max * 0.01;\r\n\r\n          for (i = 0; i < 64; i++) {\r\n            data[63 - i] = audioData[i] / peakValue;\r\n          }\r\n\r\n          for (i = 0; i < 64; i++) {\r\n            data[127 - i] = audioData[127 - i];\r\n          }\r\n        });\r\n      } else {\r\n        var iva;\r\n        let audio = document.getElementsByClassName(\"aplayer-button\")[0];\r\n        if (audio) {\r\n          audio.onclick = () => {\r\n            let play = document.getElementsByClassName(\"aplayer-play\")[0];\r\n            if (play) {\r\n              iva = setInterval(() => {\r\n                for (i = 0; i < 64; i++) {\r\n                  peakValue = peakValue * 0.99 + 1 * 0.01;\r\n                  data[63 - i] =\r\n                    ((Math.random() * 0.4) / peakValue) * Math.random();\r\n                }\r\n                for (i = 0; i < 64; i++) {\r\n                  data[127 - i] = Math.random() * 0.2 * Math.random();\r\n                }\r\n                // for (var i = 0; i < 128; i++) {\r\n                //     data[i] = Math.random();\r\n                // }\r\n              }, 130);\r\n            } else {\r\n              clearInterval(iva);\r\n              for (var i = 0; i < 128; i++) {\r\n                data[i] = animData[i] = 0;\r\n              }\r\n            }\r\n          };\r\n        }\r\n      }\r\n\r\n      // ....\r\n      function min(a, b) {\r\n        return a > b ? b : a;\r\n      }\r\n\r\n      function max(a, b) {\r\n        return a > b ? a : b;\r\n      }\r\n\r\n      // 奇妙的颜色变化\r\n      var targetColor = { r: 80, g: 120, b: 169 };\r\n      var currentColor = { r: 80, g: 120, b: 169 };\r\n      var lightColor = { r: 0, g: 34, b: 77, a: 0 };\r\n\r\n      function colorToRgb(color) {\r\n        return (\r\n          \"rgb(\" +\r\n          color.r.toString() +\r\n          \",\" +\r\n          color.g.toString() +\r\n          \",\" +\r\n          color.b.toString() +\r\n          \")\"\r\n        );\r\n      }\r\n\r\n      function colorToRgba(colorWithA) {\r\n        return (\r\n          \"rgba(\" +\r\n          colorWithA.r.toString() +\r\n          \",\" +\r\n          colorWithA.g.toString() +\r\n          \",\" +\r\n          colorWithA.b.toString() +\r\n          \",\" +\r\n          colorWithA.a.toString() +\r\n          \")\"\r\n        );\r\n      }\r\n\r\n      var night = false;\r\n      var debug = false;\r\n\r\n      // Canvas的奇妙冒险!\r\n      function render() {\r\n        for (var i = 0; i < 128; i++) {\r\n          animData[i] += (data[i] - animData[i]) * 0.3;\r\n          animData[i] = min(animData[i], 1);\r\n        }\r\n\r\n        currentColor.r += (targetColor.r - currentColor.r) * 0.01;\r\n        currentColor.r = min(currentColor.r, 255);\r\n        currentColor.r = max(currentColor.r, 0);\r\n\r\n        currentColor.g += (targetColor.g - currentColor.g) * 0.01;\r\n        currentColor.g = min(currentColor.g, 255);\r\n        currentColor.g = max(currentColor.g, 0);\r\n\r\n        currentColor.b += (targetColor.b - currentColor.b) * 0.01;\r\n        currentColor.b = min(currentColor.b, 255);\r\n        currentColor.b = max(currentColor.b, 0);\r\n\r\n        ctx.clearRect(0, 0, 1980, 1080);\r\n        ctx.drawImage(bg, 0, 0);\r\n        ctx.drawImage(mask, 954, 99);\r\n\r\n        ctx.fillStyle = \"#97adbb\"; // 时间的颜色\r\n        ctx.font = \"32pt Impact\";\r\n\r\n        ctx.transform(1, 2.05 * (Math.PI / 180), 0, 1, 0, 0);\r\n\r\n        var time = new Date();\r\n        ctx.fillText(\r\n          (time.getHours() < 10 ? \"0\" : \"\") +\r\n            time.getHours().toString() +\r\n            \":\" +\r\n            (time.getMinutes() < 10 ? \"0\" : \"\") +\r\n            time.getMinutes() +\r\n            \":\" +\r\n            (time.getSeconds() < 10 ? \"0\" : \"\") +\r\n            time.getSeconds().toString(),\r\n          725,\r\n          318\r\n        );\r\n        ctx.resetTransform();\r\n\r\n        // 日历本\r\n        ctx.transform(0.9645, 0, 0 * (Math.PI / 180), 0.96, 967, 100);\r\n        ctx.rotate(6 * (Math.PI / 180));\r\n\r\n        if (!noRili) {\r\n          ctx.drawImage(rili, 0, 0);\r\n\r\n          ctx.resetTransform();\r\n\r\n          ctx.transform(0.9645, 0, 9 * (Math.PI / 180), 1, 825, 160);\r\n          ctx.rotate(7 * (Math.PI / 180));\r\n        }\r\n\r\n        targetColor = { r: 80, g: 120, b: 169 };\r\n\r\n        if (night) {\r\n          targetColor = { r: 255, g: 75, b: 80 };\r\n        }\r\n\r\n        if (!noRili) {\r\n          ctx.fillStyle = \"rgba(0,0,0,0.5)\";\r\n          ctx.fillRect(-10, 320, 650, 2);\r\n        }\r\n\r\n        ctx.fillStyle = colorToRgb(currentColor);\r\n\r\n        if (!noRili) {\r\n          for (var i = 32; i < 95; i++)\r\n            ctx.fillRect(\r\n              10 * (i - 32),\r\n              20 + (300 - 300 * animData[i]),\r\n              4,\r\n              300 * animData[i]\r\n            );\r\n        } else\r\n          for (var i = 32; i < 95; i++)\r\n            ctx.fillRect(\r\n              40 + 7.5 * (i - 32),\r\n              30 + (300 - 300 * animData[i]),\r\n              4,\r\n              300 * animData[i]\r\n            );\r\n\r\n        ctx.resetTransform();\r\n\r\n        ctx.globalCompositeOperation = \"overlay\";\r\n        ctx.drawImage(light, 971, 197);\r\n        ctx.globalCompositeOperation = \"source-over\";\r\n\r\n        ctx.drawImage(caidai, 949, 25);\r\n        ctx.drawImage(two, 1319, 345);\r\n\r\n        // 夜间光照\r\n        if (night && lightColor.a < 0.7) {\r\n          lightColor.a += 0.005;\r\n          lightColor.a = min(lightColor.a, 0.7);\r\n        } else if (!night) {\r\n          lightColor.a -= 0.005;\r\n          lightColor.a = max(lightColor.a, 0.0);\r\n        }\r\n\r\n        if (lightColor.a > 0) {\r\n          ctx.globalCompositeOperation = \"hard-light\";\r\n          ctx.fillStyle = colorToRgba(lightColor);\r\n          ctx.fillRect(0, 0, 1980, 1080);\r\n          ctx.globalCompositeOperation = \"source-over\";\r\n\r\n          ctx.globalAlpha = lightColor.a / 0.7;\r\n          ctx.drawImage(phoneLight, 860, 437);\r\n          ctx.globalAlpha = 1;\r\n        }\r\n\r\n        // 屏幕\r\n        ctx.drawImage(screenImage, 0, 0);\r\n        if (lightColor.a > 0) {\r\n          ctx.globalAlpha = lightColor.a / 0.7;\r\n          ctx.drawImage(screenLight, 0, 0);\r\n          ctx.globalAlpha = 1;\r\n        }\r\n\r\n        night = true;\r\n        var greeting = \"凌晨啦!\";\r\n\r\n        phoneText.forEach((v) => {\r\n          if (time.getHours() >= v.time) {\r\n            greeting = v.text;\r\n          }\r\n        });\r\n\r\n        if (time.getHours() >= 6 && time.getHours() <= 18) {\r\n          night = false;\r\n        }\r\n\r\n        night = debug ? !night : night;\r\n\r\n        // 手机\r\n        ctx.fillStyle = \"#000\";\r\n        ctx.font = \"31.02pt SimHei\";\r\n\r\n        ctx.transform(\r\n          1.0911,\r\n          -35 * (Math.PI / 180),\r\n          0,\r\n          0.5868,\r\n          1132.94,\r\n          564.07\r\n        );\r\n        ctx.rotate(56.5 * (Math.PI / 180));\r\n        ctx.textAlign = \"center\";\r\n        ctx.fillStyle = \"#fff\";\r\n        ctx.fillText(greeting, 135, 100);\r\n        ctx.textAlign = \"start\";\r\n        ctx.resetTransform();\r\n\r\n        displayCtx.drawImage(cvs, 0, 0, display.width, display.height);\r\n        window.requestAnimationFrame(render);\r\n      }\r\n\r\n      window.requestAnimationFrame(render);\r\n    },\r\n    mountedElement() {\r\n      var fantasy = document.getElementsByClassName(\"fantasy\")[0];\r\n      document.getElementsByClassName(\"banner\")[0].appendChild(fantasy);\r\n      // 下面是全局背景图，如果使用，则取 plugins 里以组件名来注册插件\r\n      // let interval = setInterval(() => {\r\n      //   let theme = document.getElementsByClassName(\"theme-container\")[0];\r\n      //   if (theme) {\r\n      //     theme.appendChild(fantasy);\r\n      //   } \r\n      // }, 100);\r\n    },\r\n    clearBannerColor() {\r\n      let bannerColor = document.getElementsByClassName(\"banner-color\")[0];\r\n      if (bannerColor) {\r\n        bannerColor.parentNode.removeChild(bannerColor);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.fantasy {\r\n  position: fixed;\r\n  top: 0;\r\n  height: 100vh;\r\n  width: 100%;\r\n  z-index: -9;\r\n}\r\n.hidden {\r\n  display: none;\r\n}\r\n#display {\r\n  margin: auto;\r\n}\r\n/* 图片大小 */\r\n.vdoing-index-class .home-wrapper .banner {\r\n  margin-top: 0 !important;\r\n  height: 100vh;\r\n  background-attachment: fixed !important;\r\n}\r\n/* 图片中间的签名和标题位置 */\r\n.banner-conent {\r\n  margin-top: 23vh !important;\r\n}\r\n</style>\r\n"]}]}