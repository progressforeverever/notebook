(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{398:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"ä»€ä¹ˆæ˜¯åºåˆ—åŒ–å’Œååºåˆ—åŒ–"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯åºåˆ—åŒ–å’Œååºåˆ—åŒ–"}},[s._v("#")]),s._v(" ä»€ä¹ˆæ˜¯åºåˆ—åŒ–å’Œååºåˆ—åŒ–?")]),s._v(" "),t("p",[s._v("å¦‚æœæˆ‘ä»¬éœ€è¦æŒä¹…åŒ– Java å¯¹è±¡æ¯”å¦‚å°† Java å¯¹è±¡ä¿å­˜åœ¨æ–‡ä»¶ä¸­ï¼Œæˆ–è€…åœ¨ç½‘ç»œä¼ è¾“ Java å¯¹è±¡ï¼Œè¿™äº›åœºæ™¯éƒ½éœ€è¦ç”¨åˆ°åºåˆ—åŒ–ã€‚")]),s._v(" "),t("p",[s._v("ç®€å•æ¥è¯´ï¼š")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("åºåˆ—åŒ–")]),s._v("ï¼š"),t("strong",[s._v("å°†æ•°æ®ç»“æ„æˆ–å¯¹è±¡è½¬æ¢æˆäºŒè¿›åˆ¶å­—èŠ‚æµçš„è¿‡ç¨‹")])]),s._v(" "),t("li",[t("strong",[s._v("ååºåˆ—åŒ–")]),s._v("ï¼šå°†åœ¨åºåˆ—åŒ–è¿‡ç¨‹ä¸­æ‰€ç”Ÿæˆçš„"),t("strong",[s._v("äºŒè¿›åˆ¶å­—èŠ‚æµè½¬æ¢æˆæ•°æ®ç»“æ„æˆ–è€…å¯¹è±¡çš„è¿‡ç¨‹")])])]),s._v(" "),t("p",[s._v("å¯¹äº Java è¿™ç§é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€æ¥è¯´ï¼Œ"),t("strong",[s._v("æˆ‘ä»¬åºåˆ—åŒ–çš„éƒ½æ˜¯å¯¹è±¡ï¼ˆObjectï¼‰ä¹Ÿå°±æ˜¯å®ä¾‹åŒ–åçš„ç±»(Class)")]),s._v("ï¼Œä½†æ˜¯åœ¨ C++è¿™ç§åŠé¢å‘å¯¹è±¡çš„è¯­è¨€ä¸­ï¼Œstruct(ç»“æ„ä½“)å®šä¹‰çš„æ˜¯æ•°æ®ç»“æ„ç±»å‹ï¼Œè€Œ class å¯¹åº”çš„æ˜¯å¯¹è±¡ç±»å‹ã€‚")]),s._v(" "),t("p",[s._v("ä¸‹é¢æ˜¯åºåˆ—åŒ–å’Œååºåˆ—åŒ–å¸¸è§åº”ç”¨åœºæ™¯ï¼š")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("å¯¹è±¡åœ¨è¿›è¡Œç½‘ç»œä¼ è¾“ï¼ˆæ¯”å¦‚è¿œç¨‹æ–¹æ³•è°ƒç”¨ RPC çš„æ—¶å€™ï¼‰ä¹‹å‰éœ€è¦å…ˆè¢«åºåˆ—åŒ–ï¼Œæ¥æ”¶åˆ°åºåˆ—åŒ–çš„å¯¹è±¡ä¹‹åéœ€è¦å†è¿›è¡Œååºåˆ—åŒ–ï¼›")])]),s._v(" "),t("li",[s._v("å°†å¯¹è±¡å­˜å‚¨åˆ°æ–‡ä»¶ä¹‹å‰éœ€è¦è¿›è¡Œåºåˆ—åŒ–ï¼Œå°†å¯¹è±¡ä»æ–‡ä»¶ä¸­è¯»å–å‡ºæ¥éœ€è¦è¿›è¡Œååºåˆ—åŒ–ï¼›")]),s._v(" "),t("li",[s._v("å°†å¯¹è±¡å­˜å‚¨åˆ°æ•°æ®åº“ï¼ˆå¦‚ Redisï¼‰ä¹‹å‰éœ€è¦ç”¨åˆ°åºåˆ—åŒ–ï¼Œå°†å¯¹è±¡ä»ç¼“å­˜æ•°æ®åº“ä¸­è¯»å–å‡ºæ¥éœ€è¦ååºåˆ—åŒ–ï¼›")]),s._v(" "),t("li",[s._v("å°†å¯¹è±¡å­˜å‚¨åˆ°å†…å­˜ä¹‹å‰éœ€è¦è¿›è¡Œåºåˆ—åŒ–ï¼Œä»å†…å­˜ä¸­è¯»å–å‡ºæ¥ä¹‹åéœ€è¦è¿›è¡Œååºåˆ—åŒ–ã€‚")])]),s._v(" "),t("p",[s._v("ç»´åŸºç™¾ç§‘æ˜¯å¦‚æ˜¯ä»‹ç»åºåˆ—åŒ–çš„ï¼š")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("åºåˆ—åŒ–")]),s._v("ï¼ˆserializationï¼‰åœ¨è®¡ç®—æœºç§‘å­¦çš„æ•°æ®å¤„ç†ä¸­ï¼Œæ˜¯æŒ‡å°†æ•°æ®ç»“æ„æˆ–å¯¹è±¡çŠ¶æ€è½¬æ¢æˆå¯å–ç”¨æ ¼å¼ï¼ˆä¾‹å¦‚å­˜æˆæ–‡ä»¶ï¼Œå­˜äºç¼“å†²ï¼Œæˆ–ç»ç”±ç½‘ç»œä¸­å‘é€ï¼‰ï¼Œä»¥ç•™å¾…åç»­åœ¨ç›¸åŒæˆ–å¦ä¸€å°è®¡ç®—æœºç¯å¢ƒä¸­ï¼Œèƒ½æ¢å¤åŸå…ˆçŠ¶æ€çš„è¿‡ç¨‹ã€‚ä¾ç…§åºåˆ—åŒ–æ ¼å¼é‡æ–°è·å–å­—èŠ‚çš„ç»“æœæ—¶ï¼Œå¯ä»¥åˆ©ç”¨å®ƒæ¥äº§ç”Ÿä¸åŸå§‹å¯¹è±¡ç›¸åŒè¯­ä¹‰çš„å‰¯æœ¬ã€‚å¯¹äºè®¸å¤šå¯¹è±¡ï¼Œåƒæ˜¯ä½¿ç”¨å¤§é‡å¼•ç”¨çš„å¤æ‚å¯¹è±¡ï¼Œè¿™ç§åºåˆ—åŒ–é‡å»ºçš„è¿‡ç¨‹å¹¶ä¸å®¹æ˜“ã€‚é¢å‘å¯¹è±¡ä¸­çš„å¯¹è±¡åºåˆ—åŒ–ï¼Œå¹¶ä¸æ¦‚æ‹¬ä¹‹å‰åŸå§‹å¯¹è±¡æ‰€å…³ç³»çš„å‡½æ•°ã€‚è¿™ç§è¿‡ç¨‹ä¹Ÿç§°ä¸ºå¯¹è±¡ç¼–ç»„ï¼ˆmarshallingï¼‰ã€‚ä»ä¸€ç³»åˆ—å­—èŠ‚æå–æ•°æ®ç»“æ„çš„åå‘æ“ä½œï¼Œæ˜¯ååºåˆ—åŒ–ï¼ˆä¹Ÿç§°ä¸ºè§£ç¼–ç»„ã€deserializationã€unmarshallingï¼‰ã€‚")])]),s._v(" "),t("p",[s._v("ç»¼ä¸Šï¼š"),t("strong",[s._v("åºåˆ—åŒ–çš„ä¸»è¦ç›®çš„æ˜¯é€šè¿‡ç½‘ç»œä¼ è¾“å¯¹è±¡æˆ–è€…è¯´æ˜¯å°†å¯¹è±¡å­˜å‚¨åˆ°æ–‡ä»¶ç³»ç»Ÿã€æ•°æ®åº“ã€å†…å­˜ä¸­ã€‚")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://oss.javaguide.cn/github/javaguide/a478c74d-2c48-40ae-9374-87aacf05188c.png",alt:""}})]),s._v(" "),t("p",{staticStyle:{"text-align":"right","font-size":"13px",color:"gray"}},[s._v("https://www.corejavaguru.com/java/serialization/interview-questions-1")]),s._v(" "),t("p",[t("strong",[s._v("åºåˆ—åŒ–åè®®å¯¹åº”äº TCP/IP 4 å±‚æ¨¡å‹çš„å“ªä¸€å±‚ï¼Ÿ")])]),s._v(" "),t("p",[s._v("æˆ‘ä»¬çŸ¥é“ç½‘ç»œé€šä¿¡çš„åŒæ–¹å¿…é¡»è¦é‡‡ç”¨å’Œéµå®ˆç›¸åŒçš„åè®®ã€‚TCP/IP å››å±‚æ¨¡å‹æ˜¯ä¸‹é¢è¿™æ ·çš„ï¼Œ"),t("strong",[s._v("åºåˆ—åŒ–åè®®å±äºå“ªä¸€å±‚å‘¢ï¼Ÿ")])]),s._v(" "),t("ol",[t("li",[s._v("åº”ç”¨å±‚")]),s._v(" "),t("li",[s._v("ä¼ è¾“å±‚")]),s._v(" "),t("li",[s._v("ç½‘ç»œå±‚")]),s._v(" "),t("li",[s._v("ç½‘ç»œæ¥å£å±‚")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://oss.javaguide.cn/github/javaguide/cs-basics/network/tcp-ip-4-model.png",alt:"TCP/IP å››å±‚æ¨¡å‹"}})]),s._v(" "),t("p",[s._v("å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œ"),t("strong",[s._v("OSI ä¸ƒå±‚åè®®æ¨¡å‹ä¸­ï¼Œè¡¨ç¤ºå±‚åšçš„äº‹æƒ…ä¸»è¦å°±æ˜¯å¯¹åº”ç”¨å±‚çš„ç”¨æˆ·æ•°æ®è¿›è¡Œå¤„ç†è½¬æ¢ä¸ºäºŒè¿›åˆ¶æµã€‚åè¿‡æ¥çš„è¯ï¼Œå°±æ˜¯å°†äºŒè¿›åˆ¶æµè½¬æ¢æˆåº”ç”¨å±‚çš„ç”¨æˆ·æ•°æ®ã€‚è¿™ä¸å°±å¯¹åº”çš„æ˜¯åºåˆ—åŒ–å’Œååºåˆ—åŒ–ä¹ˆï¼Ÿ")])]),s._v(" "),t("p",[s._v("å› ä¸ºï¼ŒOSI ä¸ƒå±‚åè®®æ¨¡å‹ä¸­çš„åº”ç”¨å±‚ã€è¡¨ç¤ºå±‚å’Œä¼šè¯å±‚å¯¹åº”çš„éƒ½æ˜¯ TCP/IP å››å±‚æ¨¡å‹ä¸­çš„åº”ç”¨å±‚ï¼Œ"),t("strong",[s._v("æ‰€ä»¥åºåˆ—åŒ–åè®®å±äº TCP/IP åè®®åº”ç”¨å±‚çš„ä¸€éƒ¨åˆ†ã€‚")])]),s._v(" "),t("h2",{attrs:{id:"å¸¸è§åºåˆ—åŒ–åè®®æœ‰å“ªäº›"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¸¸è§åºåˆ—åŒ–åè®®æœ‰å“ªäº›"}},[s._v("#")]),s._v(" å¸¸è§åºåˆ—åŒ–åè®®æœ‰å“ªäº›ï¼Ÿ")]),s._v(" "),t("p",[s._v("JDK è‡ªå¸¦çš„åºåˆ—åŒ–æ–¹å¼ä¸€èˆ¬ä¸ä¼šç”¨ ï¼Œå› ä¸ºåºåˆ—åŒ–æ•ˆç‡ä½å¹¶ä¸”å­˜åœ¨å®‰å…¨é—®é¢˜ã€‚"),t("strong",[s._v("æ¯”è¾ƒå¸¸ç”¨çš„åºåˆ—åŒ–åè®®æœ‰ Hessianã€Kryoã€Protobufã€ProtoStuffï¼Œè¿™äº›éƒ½æ˜¯åŸºäºäºŒè¿›åˆ¶çš„åºåˆ—åŒ–åè®®ã€‚")])]),s._v(" "),t("p",[s._v("åƒ JSON å’Œ XML è¿™ç§å±äºæ–‡æœ¬ç±»åºåˆ—åŒ–æ–¹å¼ã€‚è™½ç„¶å¯è¯»æ€§æ¯”è¾ƒå¥½ï¼Œä½†æ˜¯æ€§èƒ½è¾ƒå·®ï¼Œä¸€èˆ¬ä¸ä¼šé€‰æ‹©ã€‚")]),s._v(" "),t("h3",{attrs:{id:"jdk-è‡ªå¸¦çš„åºåˆ—åŒ–æ–¹å¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jdk-è‡ªå¸¦çš„åºåˆ—åŒ–æ–¹å¼"}},[s._v("#")]),s._v(" JDK è‡ªå¸¦çš„åºåˆ—åŒ–æ–¹å¼")]),s._v(" "),t("p",[t("strong",[s._v("JDK è‡ªå¸¦çš„åºåˆ—åŒ–ï¼Œåªéœ€å®ç° "),t("code",[s._v("java.io.Serializable")]),s._v("æ¥å£å³å¯ã€‚")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@AllArgsConstructor")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@NoArgsConstructor")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Getter")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Builder")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@ToString")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RpcRequest")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("long")]),s._v(" serialVersionUID "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1905122041950251207L")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" requestId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" interfaceName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" methodName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" parameters"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" paramTypes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RpcMessageTypeEnum")]),s._v(" rpcMessageTypeEnum"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[t("strong",[s._v("serialVersionUID æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ")])]),s._v(" "),t("p",[t("strong",[s._v("åºåˆ—åŒ–å· "),t("code",[s._v("serialVersionUID")]),s._v(" å±äºç‰ˆæœ¬æ§åˆ¶çš„ä½œç”¨ã€‚ååºåˆ—åŒ–æ—¶ï¼Œä¼šæ£€æŸ¥ "),t("code",[s._v("serialVersionUID")]),s._v(" æ˜¯å¦å’Œå½“å‰ç±»çš„ "),t("code",[s._v("serialVersionUID")]),s._v(" ä¸€è‡´ã€‚"),t("strong",[s._v("å¦‚æœ "),t("code",[s._v("serialVersionUID")]),s._v(" ä¸ä¸€è‡´åˆ™ä¼šæŠ›å‡º "),t("code",[s._v("InvalidClassException")]),s._v(" å¼‚å¸¸")]),s._v("ã€‚å¼ºçƒˆæ¨èæ¯ä¸ªåºåˆ—åŒ–ç±»éƒ½æ‰‹åŠ¨æŒ‡å®šå…¶ "),t("code",[s._v("serialVersionUID")]),s._v("ï¼Œå¦‚æœä¸æ‰‹åŠ¨æŒ‡å®šï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ä¼šåŠ¨æ€ç”Ÿæˆé»˜è®¤çš„ "),t("code",[s._v("serialVersionUID")]),s._v("ã€‚")])]),s._v(" "),t("p",[t("strong",[s._v("serialVersionUID ä¸æ˜¯è¢« static å˜é‡ä¿®é¥°äº†å—ï¼Ÿä¸ºä»€ä¹ˆè¿˜ä¼šè¢«â€œåºåˆ—åŒ–â€ï¼Ÿ")])]),s._v(" "),t("p",[t("s",[t("code",[s._v("static")]),s._v(" ä¿®é¥°çš„å˜é‡æ˜¯é™æ€å˜é‡ï¼Œä½äºæ–¹æ³•åŒºï¼Œæœ¬èº«æ˜¯ä¸ä¼šè¢«åºåˆ—åŒ–çš„ã€‚ "),t("code",[s._v("static")]),s._v(" å˜é‡æ˜¯å±äºç±»çš„è€Œä¸æ˜¯å¯¹è±¡ã€‚ä½ ååºåˆ—ä¹‹åï¼Œ"),t("code",[s._v("static")]),s._v(" å˜é‡çš„å€¼å°±åƒæ˜¯é»˜è®¤èµ‹äºˆç»™äº†å¯¹è±¡ä¸€æ ·ï¼Œçœ‹ç€å°±åƒæ˜¯ "),t("code",[s._v("static")]),s._v(" å˜é‡è¢«åºåˆ—åŒ–ï¼Œå®é™…åªæ˜¯å‡è±¡ç½¢äº†ã€‚")])]),s._v(" "),t("p",[t("strong",[s._v("ğŸ› ä¿®æ­£ï¼ˆå‚è§ï¼š"),t("a",{attrs:{href:"https://github.com/Snailclimb/JavaGuide/issues/2174",target:"_blank",rel:"noopener noreferrer"}},[s._v("issue#2174"),t("OutboundLink")],1),s._v("ï¼‰")]),s._v("ï¼š"),t("code",[s._v("static")]),s._v(" ä¿®é¥°çš„å˜é‡æ˜¯é™æ€å˜é‡ï¼Œä½äºæ–¹æ³•åŒºï¼Œæœ¬èº«æ˜¯ä¸ä¼šè¢«åºåˆ—åŒ–çš„ã€‚ä½†æ˜¯ï¼Œ"),t("code",[s._v("serialVersionUID")]),s._v(" çš„åºåˆ—åŒ–åšäº†ç‰¹æ®Šå¤„ç†ï¼Œåœ¨åºåˆ—åŒ–æ—¶ï¼Œä¼šå°† "),t("code",[s._v("serialVersionUID")]),s._v(" åºåˆ—åŒ–åˆ°äºŒè¿›åˆ¶å­—èŠ‚æµä¸­ï¼›åœ¨ååºåˆ—åŒ–æ—¶ï¼Œä¹Ÿä¼šè§£æå®ƒå¹¶åšä¸€è‡´æ€§åˆ¤æ–­ã€‚")]),s._v(" "),t("p",[s._v("å®˜æ–¹è¯´æ˜å¦‚ä¸‹ï¼š")]),s._v(" "),t("blockquote",[t("p",[s._v("A serializable class can declare its own serialVersionUID explicitly by declaring a field named "),t("code",[s._v('"serialVersionUID"')]),s._v(" that must be "),t("code",[s._v("static")]),s._v(", "),t("code",[s._v("final")]),s._v(", and of type "),t("code",[s._v("long")]),s._v(";")]),s._v(" "),t("p",[s._v("å¦‚æœæƒ³æ˜¾å¼æŒ‡å®š "),t("code",[s._v("serialVersionUID")]),s._v(" ï¼Œåˆ™éœ€è¦åœ¨ç±»ä¸­ä½¿ç”¨ "),t("code",[s._v("static")]),s._v(" å’Œ "),t("code",[s._v("final")]),s._v(" å…³é”®å­—æ¥ä¿®é¥°ä¸€ä¸ª "),t("code",[s._v("long")]),s._v(" ç±»å‹çš„å˜é‡ï¼Œå˜é‡åå­—å¿…é¡»ä¸º "),t("code",[s._v('"serialVersionUID"')]),s._v(" ã€‚")])]),s._v(" "),t("p",[s._v("ä¹Ÿå°±æ˜¯è¯´ï¼Œ"),t("code",[s._v("serialVersionUID")]),s._v(" åªæ˜¯ç”¨æ¥è¢« JVM è¯†åˆ«ï¼Œå®é™…å¹¶æ²¡æœ‰è¢«åºåˆ—åŒ–ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("å¦‚æœæœ‰äº›å­—æ®µä¸æƒ³è¿›è¡Œåºåˆ—åŒ–æ€ä¹ˆåŠï¼Ÿ")])]),s._v(" "),t("p",[t("strong",[s._v("å¯¹äºä¸æƒ³è¿›è¡Œåºåˆ—åŒ–çš„å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨ "),t("code",[s._v("transient")]),s._v(" å…³é”®å­—ä¿®é¥°ã€‚")])]),s._v(" "),t("p",[t("code",[s._v("transient")]),s._v(" å…³é”®å­—çš„ä½œç”¨æ˜¯ï¼šé˜»æ­¢å®ä¾‹ä¸­é‚£äº›ç”¨æ­¤å…³é”®å­—ä¿®é¥°çš„çš„å˜é‡åºåˆ—åŒ–ï¼›å½“å¯¹è±¡è¢«ååºåˆ—åŒ–æ—¶ï¼Œè¢« "),t("code",[s._v("transient")]),s._v(" ä¿®é¥°çš„å˜é‡å€¼ä¸ä¼šè¢«æŒä¹…åŒ–å’Œæ¢å¤ã€‚")]),s._v(" "),t("p",[s._v("å…³äº "),t("code",[s._v("transient")]),s._v(" è¿˜æœ‰å‡ ç‚¹æ³¨æ„ï¼š")]),s._v(" "),t("ul",[t("li",[t("strong",[t("code",[s._v("transient")]),s._v(" åªèƒ½ä¿®é¥°å˜é‡ï¼Œä¸èƒ½ä¿®é¥°ç±»å’Œæ–¹æ³•ã€‚")])]),s._v(" "),t("li",[t("strong",[t("code",[s._v("transient")]),s._v(" ä¿®é¥°çš„å˜é‡ï¼Œåœ¨ååºåˆ—åŒ–åå˜é‡å€¼å°†ä¼šè¢«ç½®æˆç±»å‹çš„é»˜è®¤å€¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ˜¯ä¿®é¥° "),t("code",[s._v("int")]),s._v(" ç±»å‹ï¼Œé‚£ä¹ˆååºåˆ—åç»“æœå°±æ˜¯ "),t("code",[s._v("0")]),s._v("ã€‚")])]),s._v(" "),t("li",[t("code",[s._v("static")]),s._v(" å˜é‡å› ä¸ºä¸å±äºä»»ä½•å¯¹è±¡(Object)ï¼Œæ‰€ä»¥æ— è®ºæœ‰æ²¡æœ‰ "),t("code",[s._v("transient")]),s._v(" å…³é”®å­—ä¿®é¥°ï¼Œå‡ä¸ä¼šè¢«åºåˆ—åŒ–ã€‚")])]),s._v(" "),t("p",[t("strong",[s._v("ä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨ JDK è‡ªå¸¦çš„åºåˆ—åŒ–ï¼Ÿ")])]),s._v(" "),t("p",[s._v("æˆ‘ä»¬å¾ˆå°‘æˆ–è€…è¯´å‡ ä¹ä¸ä¼šç›´æ¥ä½¿ç”¨ JDK è‡ªå¸¦çš„åºåˆ—åŒ–æ–¹å¼ï¼Œä¸»è¦åŸå› æœ‰ä¸‹é¢è¿™äº›åŸå› ï¼š")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("ä¸æ”¯æŒè·¨è¯­è¨€è°ƒç”¨")]),s._v(" : å¦‚æœè°ƒç”¨çš„æ˜¯å…¶ä»–è¯­è¨€å¼€å‘çš„æœåŠ¡çš„æ—¶å€™å°±ä¸æ”¯æŒäº†ã€‚")]),s._v(" "),t("li",[t("strong",[s._v("æ€§èƒ½å·®")]),s._v("ï¼š"),t("strong",[s._v("ç›¸æ¯”äºå…¶ä»–åºåˆ—åŒ–æ¡†æ¶æ€§èƒ½æ›´ä½ï¼Œä¸»è¦åŸå› æ˜¯åºåˆ—åŒ–ä¹‹åçš„å­—èŠ‚æ•°ç»„ä½“ç§¯è¾ƒå¤§ï¼Œå¯¼è‡´ä¼ è¾“æˆæœ¬åŠ å¤§ã€‚")])]),s._v(" "),t("li",[t("strong",[s._v("å­˜åœ¨å®‰å…¨é—®é¢˜")]),s._v("ï¼šåºåˆ—åŒ–å’Œååºåˆ—åŒ–æœ¬èº«å¹¶ä¸å­˜åœ¨é—®é¢˜ã€‚ä½†å½“è¾“å…¥çš„ååºåˆ—åŒ–çš„æ•°æ®å¯è¢«ç”¨æˆ·æ§åˆ¶ï¼Œé‚£ä¹ˆæ”»å‡»è€…å³å¯é€šè¿‡æ„é€ æ¶æ„è¾“å…¥ï¼Œè®©ååºåˆ—åŒ–äº§ç”Ÿéé¢„æœŸçš„å¯¹è±¡ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­æ‰§è¡Œæ„é€ çš„ä»»æ„ä»£ç ã€‚ç›¸å…³é˜…è¯»ï¼š"),t("a",{attrs:{href:"https://cryin.github.io/blog/secure-development-java-deserialization-vulnerability/",target:"_blank",rel:"noopener noreferrer"}},[s._v("åº”ç”¨å®‰å…¨:JAVA ååºåˆ—åŒ–æ¼æ´ä¹‹æ®‡ - Cryin"),t("OutboundLink")],1),s._v("ã€"),t("a",{attrs:{href:"https://www.zhihu.com/question/37562657/answer/1916596031",target:"_blank",rel:"noopener noreferrer"}},[s._v("Java ååºåˆ—åŒ–å®‰å…¨æ¼æ´æ€ä¹ˆå›äº‹? - Monica"),t("OutboundLink")],1),s._v("ã€‚")])]),s._v(" "),t("h3",{attrs:{id:"kryo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kryo"}},[s._v("#")]),s._v(" Kryo")]),s._v(" "),t("p",[s._v("Kryo æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„åºåˆ—åŒ–/ååºåˆ—åŒ–å·¥å…·ï¼Œç”±äºå…¶å˜é•¿å­˜å‚¨ç‰¹æ€§å¹¶ä½¿ç”¨äº†å­—èŠ‚ç ç”Ÿæˆæœºåˆ¶ï¼Œæ‹¥æœ‰è¾ƒé«˜çš„è¿è¡Œé€Ÿåº¦å’Œè¾ƒå°çš„å­—èŠ‚ç ä½“ç§¯ã€‚")]),s._v(" "),t("p",[s._v("å¦å¤–ï¼ŒKryo å·²ç»æ˜¯ä¸€ç§éå¸¸æˆç†Ÿçš„åºåˆ—åŒ–å®ç°äº†ï¼Œå·²ç»åœ¨ Twitterã€Grouponã€Yahoo ä»¥åŠå¤šä¸ªè‘—åå¼€æºé¡¹ç›®ï¼ˆå¦‚ Hiveã€Stormï¼‰ä¸­å¹¿æ³›çš„ä½¿ç”¨ã€‚")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/Snailclimb/guide-rpc-framework",target:"_blank",rel:"noopener noreferrer"}},[s._v("guide-rpc-framework"),t("OutboundLink")],1),s._v(" å°±æ˜¯ä½¿ç”¨çš„ kryo è¿›è¡Œåºåˆ—åŒ–ï¼Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–ç›¸å…³çš„ä»£ç å¦‚ä¸‹ï¼š")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * Kryo serialization class, Kryo serialization efficiency is very high, but only compatible with Java language\n *\n * @author shuang.kou\n * @createTime 2020å¹´05æœˆ13æ—¥ 19:29:00\n */")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Slf4j")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("KryoSerializer")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializer")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * Because Kryo is not thread safe. So, use ThreadLocal to store Kryo objects\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadLocal")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Kryo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" kryoThreadLocal "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadLocal")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("withInitial")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Kryo")]),s._v(" kryo "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Kryo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        kryo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("register")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RpcResponse")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        kryo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("register")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RpcRequest")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" kryo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("serialize")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" obj"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ByteArrayOutputStream")]),s._v(" byteArrayOutputStream "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ByteArrayOutputStream")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n             "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Output")]),s._v(" output "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Output")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("byteArrayOutputStream"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Kryo")]),s._v(" kryo "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" kryoThreadLocal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Object->byte:å°†å¯¹è±¡åºåˆ—åŒ–ä¸ºbyteæ•°ç»„")]),s._v("\n            kryo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("writeObject")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("output"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" obj"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            kryoThreadLocal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("remove")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" output"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("toBytes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SerializeException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Serialization failed"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("deserialize")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" bytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" clazz"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ByteArrayInputStream")]),s._v(" byteArrayInputStream "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ByteArrayInputStream")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n             "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Input")]),s._v(" input "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Input")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("byteArrayInputStream"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Kryo")]),s._v(" kryo "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" kryoThreadLocal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// byte->Object:ä»byteæ•°ç»„ä¸­ååºåˆ—åŒ–å‡ºå¯¹è±¡")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" o "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" kryo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("readObject")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("input"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" clazz"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            kryoThreadLocal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("remove")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" clazz"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cast")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("o"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SerializeException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Deserialization failed"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br")])]),t("p",[s._v("GitHub åœ°å€ï¼š"),t("a",{attrs:{href:"https://github.com/EsotericSoftware/kryo",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/EsotericSoftware/kryo"),t("OutboundLink")],1),s._v(" ã€‚")]),s._v(" "),t("h3",{attrs:{id:"protobuf"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#protobuf"}},[s._v("#")]),s._v(" Protobuf")]),s._v(" "),t("p",[s._v("Protobuf å‡ºè‡ªäº Googleï¼Œæ€§èƒ½è¿˜æ¯”è¾ƒä¼˜ç§€ï¼Œä¹Ÿæ”¯æŒå¤šç§è¯­è¨€ï¼ŒåŒæ—¶è¿˜æ˜¯è·¨å¹³å°çš„ã€‚å°±æ˜¯åœ¨ä½¿ç”¨ä¸­è¿‡äºç¹çï¼Œå› ä¸ºä½ éœ€è¦è‡ªå·±å®šä¹‰ IDL æ–‡ä»¶å’Œç”Ÿæˆå¯¹åº”çš„åºåˆ—åŒ–ä»£ç ã€‚è¿™æ ·è™½ç„¶ä¸çµæ´»ï¼Œä½†æ˜¯ï¼Œå¦ä¸€æ–¹é¢å¯¼è‡´ protobuf æ²¡æœ‰åºåˆ—åŒ–æ¼æ´çš„é£é™©ã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("Protobuf åŒ…å«åºåˆ—åŒ–æ ¼å¼çš„å®šä¹‰ã€å„ç§è¯­è¨€çš„åº“ä»¥åŠä¸€ä¸ª IDL ç¼–è¯‘å™¨ã€‚æ­£å¸¸æƒ…å†µä¸‹ä½ éœ€è¦å®šä¹‰ proto æ–‡ä»¶ï¼Œç„¶åä½¿ç”¨ IDL ç¼–è¯‘å™¨ç¼–è¯‘æˆä½ éœ€è¦çš„è¯­è¨€")])]),s._v(" "),t("p",[s._v("ä¸€ä¸ªç®€å•çš„ proto æ–‡ä»¶å¦‚ä¸‹ï¼š")]),s._v(" "),t("div",{staticClass:"language-protobuf line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-protobuf"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// protobufçš„ç‰ˆæœ¬")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("syntax")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"proto3"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// SearchRequestä¼šè¢«ç¼–è¯‘æˆä¸åŒçš„ç¼–ç¨‹è¯­è¨€çš„ç›¸åº”å¯¹è±¡ï¼Œæ¯”å¦‚Javaä¸­çš„classã€Goä¸­çš„struct")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("message")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Person")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//stringç±»å‹å­—æ®µ")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// int ç±»å‹å­—æ®µ")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int32")]),s._v(" age "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("GitHub åœ°å€ï¼š"),t("a",{attrs:{href:"https://github.com/protocolbuffers/protobuf",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/protocolbuffers/protobuf"),t("OutboundLink")],1),s._v("ã€‚")]),s._v(" "),t("h3",{attrs:{id:"protostuff"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#protostuff"}},[s._v("#")]),s._v(" ProtoStuff")]),s._v(" "),t("p",[s._v("ç”±äº Protobuf çš„æ˜“ç”¨æ€§ï¼Œå®ƒçš„å“¥å“¥ Protostuff è¯ç”Ÿäº†ã€‚")]),s._v(" "),t("p",[s._v("protostuff åŸºäº Google protobufï¼Œä½†æ˜¯æä¾›äº†æ›´å¤šçš„åŠŸèƒ½å’Œæ›´ç®€æ˜“çš„ç”¨æ³•ã€‚è™½ç„¶æ›´åŠ æ˜“ç”¨ï¼Œä½†æ˜¯ä¸ä»£è¡¨ ProtoStuff æ€§èƒ½æ›´å·®ã€‚")]),s._v(" "),t("p",[s._v("GitHub åœ°å€ï¼š"),t("a",{attrs:{href:"https://github.com/protostuff/protostuff",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/protostuff/protostuff"),t("OutboundLink")],1),s._v("ã€‚")]),s._v(" "),t("h3",{attrs:{id:"hessian"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hessian"}},[s._v("#")]),s._v(" Hessian")]),s._v(" "),t("p",[s._v("Hessian æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ï¼Œè‡ªå®šä¹‰æè¿°çš„äºŒè¿›åˆ¶ RPC åè®®ã€‚Hessian æ˜¯ä¸€ä¸ªæ¯”è¾ƒè€çš„åºåˆ—åŒ–å®ç°äº†ï¼Œå¹¶ä¸”åŒæ ·ä¹Ÿæ˜¯è·¨è¯­è¨€çš„ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://oss.javaguide.cn/github/javaguide/8613ec4c-bde5-47bf-897e-99e0f90b9fa3.png",alt:""}})]),s._v(" "),t("p",[s._v("Dubbo2.x é»˜è®¤å¯ç”¨çš„åºåˆ—åŒ–æ–¹å¼æ˜¯ Hessian2 ,ä½†æ˜¯ï¼ŒDubbo å¯¹ Hessian2 è¿›è¡Œäº†ä¿®æ”¹ï¼Œä¸è¿‡å¤§ä½“ç»“æ„è¿˜æ˜¯å·®ä¸å¤šã€‚")]),s._v(" "),t("h3",{attrs:{id:"æ€»ç»“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[s._v("#")]),s._v(" æ€»ç»“")]),s._v(" "),t("p",[s._v("**Kryo æ˜¯ä¸“é—¨é’ˆå¯¹ Java è¯­è¨€åºåˆ—åŒ–æ–¹å¼å¹¶ä¸”æ€§èƒ½éå¸¸å¥½ï¼Œå¦‚æœä½ çš„åº”ç”¨æ˜¯ä¸“é—¨é’ˆå¯¹ Java è¯­è¨€çš„è¯å¯ä»¥è€ƒè™‘ä½¿ç”¨ï¼Œ**å¹¶ä¸” Dubbo å®˜ç½‘çš„ä¸€ç¯‡æ–‡ç« ä¸­æåˆ°è¯´æ¨èä½¿ç”¨ Kryo ä½œä¸ºç”Ÿäº§ç¯å¢ƒçš„åºåˆ—åŒ–æ–¹å¼ã€‚(æ–‡ç« åœ°å€ï¼š"),t("a",{attrs:{href:"https://cn.dubbo.apache.org/zh-cn/docsv2.7/user/serialization/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://cn.dubbo.apache.org/zh-cn/docsv2.7/user/serialization/"),t("OutboundLink")],1),s._v("ï¼‰ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://oss.javaguide.cn/github/javaguide/java/569e541a-22b2-4846-aa07-0ad479f07440-20230814090158124.png",alt:""}})]),s._v(" "),t("p",[s._v("åƒ Protobufã€ ProtoStuffã€hessian è¿™ç±»éƒ½æ˜¯è·¨è¯­è¨€çš„åºåˆ—åŒ–æ–¹å¼ï¼Œå¦‚æœæœ‰è·¨è¯­è¨€éœ€æ±‚çš„è¯å¯ä»¥è€ƒè™‘ä½¿ç”¨ã€‚")]),s._v(" "),t("p",[s._v("é™¤äº†æˆ‘ä¸Šé¢ä»‹ç»åˆ°çš„åºåˆ—åŒ–æ–¹å¼çš„è¯ï¼Œè¿˜æœ‰åƒ Thriftï¼ŒAvro è¿™äº›ã€‚")])])}),[],!1,null,null,null);t.default=e.exports}}]);