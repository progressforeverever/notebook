<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MySQL基础 | notebook</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/notebook/img/favicon.ico">
    <script data-ad-client="ca-pub-7828333725993554" async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="学习笔记">
    <meta name="keywords" content="全栈学习笔记">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/notebook/assets/css/0.styles.306676b6.css" as="style"><link rel="preload" href="/notebook/assets/js/app.8978aa11.js" as="script"><link rel="preload" href="/notebook/assets/js/2.3295585a.js" as="script"><link rel="preload" href="/notebook/assets/js/118.81328820.js" as="script"><link rel="prefetch" href="/notebook/assets/js/10.ad0dd013.js"><link rel="prefetch" href="/notebook/assets/js/100.18d762e6.js"><link rel="prefetch" href="/notebook/assets/js/101.df1643fc.js"><link rel="prefetch" href="/notebook/assets/js/102.711fb094.js"><link rel="prefetch" href="/notebook/assets/js/103.df90361a.js"><link rel="prefetch" href="/notebook/assets/js/104.91cc5537.js"><link rel="prefetch" href="/notebook/assets/js/105.5faf1761.js"><link rel="prefetch" href="/notebook/assets/js/106.d4373ca9.js"><link rel="prefetch" href="/notebook/assets/js/107.09e7e977.js"><link rel="prefetch" href="/notebook/assets/js/108.f879ec06.js"><link rel="prefetch" href="/notebook/assets/js/109.d73ab4a7.js"><link rel="prefetch" href="/notebook/assets/js/11.bb942f67.js"><link rel="prefetch" href="/notebook/assets/js/110.df1195c3.js"><link rel="prefetch" href="/notebook/assets/js/111.aad6f628.js"><link rel="prefetch" href="/notebook/assets/js/112.6608ef6c.js"><link rel="prefetch" href="/notebook/assets/js/113.b44d7a9d.js"><link rel="prefetch" href="/notebook/assets/js/114.32d718f1.js"><link rel="prefetch" href="/notebook/assets/js/115.fc120a9e.js"><link rel="prefetch" href="/notebook/assets/js/116.b59b2c90.js"><link rel="prefetch" href="/notebook/assets/js/117.e06a792c.js"><link rel="prefetch" href="/notebook/assets/js/119.8bd5b49e.js"><link rel="prefetch" href="/notebook/assets/js/12.0084f935.js"><link rel="prefetch" href="/notebook/assets/js/120.75e8278b.js"><link rel="prefetch" href="/notebook/assets/js/121.7645aa3b.js"><link rel="prefetch" href="/notebook/assets/js/122.12da3625.js"><link rel="prefetch" href="/notebook/assets/js/123.54772ef5.js"><link rel="prefetch" href="/notebook/assets/js/124.0f435a4e.js"><link rel="prefetch" href="/notebook/assets/js/125.49202e31.js"><link rel="prefetch" href="/notebook/assets/js/126.063c0dc0.js"><link rel="prefetch" href="/notebook/assets/js/127.10aef89a.js"><link rel="prefetch" href="/notebook/assets/js/128.a18fb938.js"><link rel="prefetch" href="/notebook/assets/js/129.52bd3fa2.js"><link rel="prefetch" href="/notebook/assets/js/13.1518aee3.js"><link rel="prefetch" href="/notebook/assets/js/130.94b09c35.js"><link rel="prefetch" href="/notebook/assets/js/131.8e8741cd.js"><link rel="prefetch" href="/notebook/assets/js/132.6039f04a.js"><link rel="prefetch" href="/notebook/assets/js/133.5d5a881e.js"><link rel="prefetch" href="/notebook/assets/js/134.13c96cab.js"><link rel="prefetch" href="/notebook/assets/js/135.84ff1026.js"><link rel="prefetch" href="/notebook/assets/js/136.5be2d64f.js"><link rel="prefetch" href="/notebook/assets/js/137.c13ade8c.js"><link rel="prefetch" href="/notebook/assets/js/138.245b4b27.js"><link rel="prefetch" href="/notebook/assets/js/139.c8ce5977.js"><link rel="prefetch" href="/notebook/assets/js/14.65893aa1.js"><link rel="prefetch" href="/notebook/assets/js/140.162d1bb5.js"><link rel="prefetch" href="/notebook/assets/js/141.f6f6fa8d.js"><link rel="prefetch" href="/notebook/assets/js/142.558f939a.js"><link rel="prefetch" href="/notebook/assets/js/143.bd02ec09.js"><link rel="prefetch" href="/notebook/assets/js/144.e23e68a5.js"><link rel="prefetch" href="/notebook/assets/js/145.ebbca7e4.js"><link rel="prefetch" href="/notebook/assets/js/146.e5c44244.js"><link rel="prefetch" href="/notebook/assets/js/147.9f7ccbfc.js"><link rel="prefetch" href="/notebook/assets/js/148.a367286f.js"><link rel="prefetch" href="/notebook/assets/js/149.04cfb13d.js"><link rel="prefetch" href="/notebook/assets/js/15.94d642c1.js"><link rel="prefetch" href="/notebook/assets/js/150.449a26e9.js"><link rel="prefetch" href="/notebook/assets/js/151.8fd3a27b.js"><link rel="prefetch" href="/notebook/assets/js/152.3b529668.js"><link rel="prefetch" href="/notebook/assets/js/153.fa86f4c0.js"><link rel="prefetch" href="/notebook/assets/js/154.60a24941.js"><link rel="prefetch" href="/notebook/assets/js/155.6d661985.js"><link rel="prefetch" href="/notebook/assets/js/156.b9cc9d16.js"><link rel="prefetch" href="/notebook/assets/js/157.418f5bf3.js"><link rel="prefetch" href="/notebook/assets/js/158.42495e4b.js"><link rel="prefetch" href="/notebook/assets/js/159.c42f7bdc.js"><link rel="prefetch" href="/notebook/assets/js/16.f82ad78e.js"><link rel="prefetch" href="/notebook/assets/js/160.063519a2.js"><link rel="prefetch" href="/notebook/assets/js/161.acf0704e.js"><link rel="prefetch" href="/notebook/assets/js/162.603af965.js"><link rel="prefetch" href="/notebook/assets/js/163.ae82d304.js"><link rel="prefetch" href="/notebook/assets/js/164.23ac592d.js"><link rel="prefetch" href="/notebook/assets/js/165.2b97d44b.js"><link rel="prefetch" href="/notebook/assets/js/166.2318947e.js"><link rel="prefetch" href="/notebook/assets/js/167.c379c56d.js"><link rel="prefetch" href="/notebook/assets/js/168.8d1a7c3a.js"><link rel="prefetch" href="/notebook/assets/js/169.1893572a.js"><link rel="prefetch" href="/notebook/assets/js/17.8ffa6c64.js"><link rel="prefetch" href="/notebook/assets/js/170.2b80b7bd.js"><link rel="prefetch" href="/notebook/assets/js/171.1e896c70.js"><link rel="prefetch" href="/notebook/assets/js/172.5f6aa7cb.js"><link rel="prefetch" href="/notebook/assets/js/173.ea3e6be3.js"><link rel="prefetch" href="/notebook/assets/js/174.2b42017e.js"><link rel="prefetch" href="/notebook/assets/js/175.612d3b13.js"><link rel="prefetch" href="/notebook/assets/js/176.bb131f2a.js"><link rel="prefetch" href="/notebook/assets/js/177.8ec26f15.js"><link rel="prefetch" href="/notebook/assets/js/178.a14f0a09.js"><link rel="prefetch" href="/notebook/assets/js/179.43bc8d77.js"><link rel="prefetch" href="/notebook/assets/js/18.72d19e8c.js"><link rel="prefetch" href="/notebook/assets/js/180.b86fc5fc.js"><link rel="prefetch" href="/notebook/assets/js/181.4682b920.js"><link rel="prefetch" href="/notebook/assets/js/182.d13f6ea1.js"><link rel="prefetch" href="/notebook/assets/js/183.15ae06b7.js"><link rel="prefetch" href="/notebook/assets/js/184.26601145.js"><link rel="prefetch" href="/notebook/assets/js/185.24f2484e.js"><link rel="prefetch" href="/notebook/assets/js/186.9c57a6bd.js"><link rel="prefetch" href="/notebook/assets/js/187.49c1ccaf.js"><link rel="prefetch" href="/notebook/assets/js/188.d36e089d.js"><link rel="prefetch" href="/notebook/assets/js/189.c9c05468.js"><link rel="prefetch" href="/notebook/assets/js/19.9fc8ebe6.js"><link rel="prefetch" href="/notebook/assets/js/190.a3bf651a.js"><link rel="prefetch" href="/notebook/assets/js/191.764e02c7.js"><link rel="prefetch" href="/notebook/assets/js/192.efbc422a.js"><link rel="prefetch" href="/notebook/assets/js/193.2378c3df.js"><link rel="prefetch" href="/notebook/assets/js/194.4c58d88b.js"><link rel="prefetch" href="/notebook/assets/js/195.badf2826.js"><link rel="prefetch" href="/notebook/assets/js/196.b8c6de79.js"><link rel="prefetch" href="/notebook/assets/js/197.d605bd64.js"><link rel="prefetch" href="/notebook/assets/js/198.7f351da5.js"><link rel="prefetch" href="/notebook/assets/js/199.18ac70dc.js"><link rel="prefetch" href="/notebook/assets/js/20.ae5f6787.js"><link rel="prefetch" href="/notebook/assets/js/200.4dc7a625.js"><link rel="prefetch" href="/notebook/assets/js/201.86bc1624.js"><link rel="prefetch" href="/notebook/assets/js/202.46f431ad.js"><link rel="prefetch" href="/notebook/assets/js/203.e422dce0.js"><link rel="prefetch" href="/notebook/assets/js/204.1e8ff98b.js"><link rel="prefetch" href="/notebook/assets/js/205.160f2d88.js"><link rel="prefetch" href="/notebook/assets/js/206.b8bb9eb0.js"><link rel="prefetch" href="/notebook/assets/js/207.2d979a2c.js"><link rel="prefetch" href="/notebook/assets/js/208.57c8bde5.js"><link rel="prefetch" href="/notebook/assets/js/209.34c6c965.js"><link rel="prefetch" href="/notebook/assets/js/21.4d8cf05c.js"><link rel="prefetch" href="/notebook/assets/js/210.5184efc3.js"><link rel="prefetch" href="/notebook/assets/js/211.27b3c43f.js"><link rel="prefetch" href="/notebook/assets/js/212.6ca80d46.js"><link rel="prefetch" href="/notebook/assets/js/213.006099ab.js"><link rel="prefetch" href="/notebook/assets/js/214.01d10125.js"><link rel="prefetch" href="/notebook/assets/js/215.fe553758.js"><link rel="prefetch" href="/notebook/assets/js/216.2451d652.js"><link rel="prefetch" href="/notebook/assets/js/217.10acfce9.js"><link rel="prefetch" href="/notebook/assets/js/22.8847f393.js"><link rel="prefetch" href="/notebook/assets/js/23.38076e6c.js"><link rel="prefetch" href="/notebook/assets/js/24.241b5ba4.js"><link rel="prefetch" href="/notebook/assets/js/25.d555f519.js"><link rel="prefetch" href="/notebook/assets/js/26.5e596b6c.js"><link rel="prefetch" href="/notebook/assets/js/27.2c4bffc6.js"><link rel="prefetch" href="/notebook/assets/js/28.bf68cc5f.js"><link rel="prefetch" href="/notebook/assets/js/29.1850bb08.js"><link rel="prefetch" href="/notebook/assets/js/3.ea1a4511.js"><link rel="prefetch" href="/notebook/assets/js/30.913c71ed.js"><link rel="prefetch" href="/notebook/assets/js/31.8c1368e4.js"><link rel="prefetch" href="/notebook/assets/js/32.ab4a79e6.js"><link rel="prefetch" href="/notebook/assets/js/33.67c2d1e1.js"><link rel="prefetch" href="/notebook/assets/js/34.8d4fe674.js"><link rel="prefetch" href="/notebook/assets/js/35.1dd47348.js"><link rel="prefetch" href="/notebook/assets/js/36.4f00b90e.js"><link rel="prefetch" href="/notebook/assets/js/37.f2f08452.js"><link rel="prefetch" href="/notebook/assets/js/38.85d5f4b1.js"><link rel="prefetch" href="/notebook/assets/js/39.68430cda.js"><link rel="prefetch" href="/notebook/assets/js/4.aa1f4d87.js"><link rel="prefetch" href="/notebook/assets/js/40.a5d1602d.js"><link rel="prefetch" href="/notebook/assets/js/41.f9003dd4.js"><link rel="prefetch" href="/notebook/assets/js/42.b9468304.js"><link rel="prefetch" href="/notebook/assets/js/43.5b698cbc.js"><link rel="prefetch" href="/notebook/assets/js/44.5d66646e.js"><link rel="prefetch" href="/notebook/assets/js/45.d8c25634.js"><link rel="prefetch" href="/notebook/assets/js/46.3a29e957.js"><link rel="prefetch" href="/notebook/assets/js/47.10a47405.js"><link rel="prefetch" href="/notebook/assets/js/48.b7787ca9.js"><link rel="prefetch" href="/notebook/assets/js/49.a435f028.js"><link rel="prefetch" href="/notebook/assets/js/5.a042e532.js"><link rel="prefetch" href="/notebook/assets/js/50.377b1218.js"><link rel="prefetch" href="/notebook/assets/js/51.72238a50.js"><link rel="prefetch" href="/notebook/assets/js/52.d5eeb5ab.js"><link rel="prefetch" href="/notebook/assets/js/53.ad4d5c5e.js"><link rel="prefetch" href="/notebook/assets/js/54.fa68e4d3.js"><link rel="prefetch" href="/notebook/assets/js/55.6758b457.js"><link rel="prefetch" href="/notebook/assets/js/56.f1178984.js"><link rel="prefetch" href="/notebook/assets/js/57.49bfa3ec.js"><link rel="prefetch" href="/notebook/assets/js/58.25693284.js"><link rel="prefetch" href="/notebook/assets/js/59.355865a0.js"><link rel="prefetch" href="/notebook/assets/js/6.744ef3d9.js"><link rel="prefetch" href="/notebook/assets/js/60.3b04c778.js"><link rel="prefetch" href="/notebook/assets/js/61.5c730da5.js"><link rel="prefetch" href="/notebook/assets/js/62.293977a9.js"><link rel="prefetch" href="/notebook/assets/js/63.a1f7d522.js"><link rel="prefetch" href="/notebook/assets/js/64.698160c8.js"><link rel="prefetch" href="/notebook/assets/js/65.2d400d32.js"><link rel="prefetch" href="/notebook/assets/js/66.9e1d1088.js"><link rel="prefetch" href="/notebook/assets/js/67.0a49ac07.js"><link rel="prefetch" href="/notebook/assets/js/68.e278f8bd.js"><link rel="prefetch" href="/notebook/assets/js/69.9ae024f0.js"><link rel="prefetch" href="/notebook/assets/js/7.a8cc7006.js"><link rel="prefetch" href="/notebook/assets/js/70.ecc66a1b.js"><link rel="prefetch" href="/notebook/assets/js/71.6197564c.js"><link rel="prefetch" href="/notebook/assets/js/72.8a51c5a8.js"><link rel="prefetch" href="/notebook/assets/js/73.17b7fc55.js"><link rel="prefetch" href="/notebook/assets/js/74.51c25099.js"><link rel="prefetch" href="/notebook/assets/js/75.4e49385e.js"><link rel="prefetch" href="/notebook/assets/js/76.9b20af8b.js"><link rel="prefetch" href="/notebook/assets/js/77.62682a06.js"><link rel="prefetch" href="/notebook/assets/js/78.b3326b2e.js"><link rel="prefetch" href="/notebook/assets/js/79.69dde82f.js"><link rel="prefetch" href="/notebook/assets/js/8.d3830af8.js"><link rel="prefetch" href="/notebook/assets/js/80.d5950484.js"><link rel="prefetch" href="/notebook/assets/js/81.2dab3637.js"><link rel="prefetch" href="/notebook/assets/js/82.f4d136fc.js"><link rel="prefetch" href="/notebook/assets/js/83.c7d751a8.js"><link rel="prefetch" href="/notebook/assets/js/84.b2645137.js"><link rel="prefetch" href="/notebook/assets/js/85.02ecd4f2.js"><link rel="prefetch" href="/notebook/assets/js/86.6d6d39be.js"><link rel="prefetch" href="/notebook/assets/js/87.dfdc8e09.js"><link rel="prefetch" href="/notebook/assets/js/88.4d5bde3b.js"><link rel="prefetch" href="/notebook/assets/js/89.5b14e392.js"><link rel="prefetch" href="/notebook/assets/js/9.799b4b95.js"><link rel="prefetch" href="/notebook/assets/js/90.c16fd700.js"><link rel="prefetch" href="/notebook/assets/js/91.23c01f88.js"><link rel="prefetch" href="/notebook/assets/js/92.e7a0e511.js"><link rel="prefetch" href="/notebook/assets/js/93.0616815a.js"><link rel="prefetch" href="/notebook/assets/js/94.1cfba720.js"><link rel="prefetch" href="/notebook/assets/js/95.cd76aaad.js"><link rel="prefetch" href="/notebook/assets/js/96.44646498.js"><link rel="prefetch" href="/notebook/assets/js/97.9e696d9d.js"><link rel="prefetch" href="/notebook/assets/js/98.e9f8b933.js"><link rel="prefetch" href="/notebook/assets/js/99.95e727c2.js">
    <link rel="stylesheet" href="/notebook/assets/css/0.styles.306676b6.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notebook/" class="home-link router-link-active"><img src="/notebook/img/logo.jpg" alt="notebook" class="logo"> <span class="site-name can-hide">notebook</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/notebook/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><!----> <span class="title" style="display:;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/fontEnd/html/" class="nav-link">html</a></li><li class="dropdown-item"><!----> <a href="/notebook/fontEnd/javascript/" class="nav-link">javascript</a></li><li class="dropdown-item"><!----> <a href="/notebook/fontEnd/Vue/" class="nav-link">Vue</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="java" class="dropdown-title"><!----> <span class="title" style="display:;">java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/java/javaSE/" class="nav-link">javaSE</a></li><li class="dropdown-item"><!----> <a href="/notebook/java/maven/" class="nav-link">maven</a></li><li class="dropdown-item"><!----> <a href="/notebook/java/git/" class="nav-link">git</a></li><li class="dropdown-item"><!----> <a href="/notebook/java/springboot/" class="nav-link">SpringBoot</a></li><li class="dropdown-item"><!----> <a href="/notebook/java/Spring/" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/notebook/java/SpringCloud/" class="nav-link">SpringCloud</a></li><li class="dropdown-item"><!----> <a href="/notebook/java/SpringSecurity/" class="nav-link">SpringSecurity</a></li><li class="dropdown-item"><!----> <a href="/notebook/java/DesignPattern/" class="nav-link">DesignPattern</a></li><li class="dropdown-item"><!----> <a href="/notebook/java/DevelopAndReading/" class="nav-link">开发与阅读</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="python" class="dropdown-title"><!----> <span class="title" style="display:;">python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/python/pythonFundamentals/" class="nav-link">pythonFundamentals</a></li><li class="dropdown-item"><!----> <a href="/notebook/python/fastAPI/" class="nav-link">fastAPI</a></li><li class="dropdown-item"><!----> <a href="/notebook/python/Flask/" class="nav-link">Flask</a></li><li class="dropdown-item"><!----> <a href="/notebook/python/spider/" class="nav-link">爬虫</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><!----> <span class="title" style="display:;">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/ops/linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/notebook/ops/docker/" class="nav-link">docker</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库与中间件" class="dropdown-title"><!----> <span class="title" style="display:;">数据库与中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/database/MySQL/" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/notebook/database/MongoDB/" class="nav-link">MongoDB</a></li><li class="dropdown-item"><!----> <a href="/notebook/database/Redis/" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/notebook/database/Elatisearch/" class="nav-link">Elatisearch</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><!----> <span class="title" style="display:;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/foundation/Leetcode/" class="nav-link">Leetcode</a></li><li class="dropdown-item"><!----> <a href="/notebook/foundation/os/" class="nav-link">操作系统</a></li><li class="dropdown-item"><!----> <a href="/notebook/foundation/network/" class="nav-link">计算机网络</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://czynotebook.oss-cn-beijing.aliyuncs.com/%E4%BE%A7%E8%BE%B9%E6%A0%8F.jpeg"> <div class="blogger-info"><h3>学习笔记</h3> <span>每个小菜鸡都有变强的梦想</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/notebook/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><!----> <span class="title" style="display:;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/fontEnd/html/" class="nav-link">html</a></li><li class="dropdown-item"><!----> <a href="/notebook/fontEnd/javascript/" class="nav-link">javascript</a></li><li class="dropdown-item"><!----> <a href="/notebook/fontEnd/Vue/" class="nav-link">Vue</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="java" class="dropdown-title"><!----> <span class="title" style="display:;">java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/java/javaSE/" class="nav-link">javaSE</a></li><li class="dropdown-item"><!----> <a href="/notebook/java/maven/" class="nav-link">maven</a></li><li class="dropdown-item"><!----> <a href="/notebook/java/git/" class="nav-link">git</a></li><li class="dropdown-item"><!----> <a href="/notebook/java/springboot/" class="nav-link">SpringBoot</a></li><li class="dropdown-item"><!----> <a href="/notebook/java/Spring/" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/notebook/java/SpringCloud/" class="nav-link">SpringCloud</a></li><li class="dropdown-item"><!----> <a href="/notebook/java/SpringSecurity/" class="nav-link">SpringSecurity</a></li><li class="dropdown-item"><!----> <a href="/notebook/java/DesignPattern/" class="nav-link">DesignPattern</a></li><li class="dropdown-item"><!----> <a href="/notebook/java/DevelopAndReading/" class="nav-link">开发与阅读</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="python" class="dropdown-title"><!----> <span class="title" style="display:;">python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/python/pythonFundamentals/" class="nav-link">pythonFundamentals</a></li><li class="dropdown-item"><!----> <a href="/notebook/python/fastAPI/" class="nav-link">fastAPI</a></li><li class="dropdown-item"><!----> <a href="/notebook/python/Flask/" class="nav-link">Flask</a></li><li class="dropdown-item"><!----> <a href="/notebook/python/spider/" class="nav-link">爬虫</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><!----> <span class="title" style="display:;">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/ops/linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/notebook/ops/docker/" class="nav-link">docker</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库与中间件" class="dropdown-title"><!----> <span class="title" style="display:;">数据库与中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/database/MySQL/" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/notebook/database/MongoDB/" class="nav-link">MongoDB</a></li><li class="dropdown-item"><!----> <a href="/notebook/database/Redis/" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/notebook/database/Elatisearch/" class="nav-link">Elatisearch</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><!----> <span class="title" style="display:;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/foundation/Leetcode/" class="nav-link">Leetcode</a></li><li class="dropdown-item"><!----> <a href="/notebook/foundation/os/" class="nav-link">操作系统</a></li><li class="dropdown-item"><!----> <a href="/notebook/foundation/network/" class="nav-link">计算机网络</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>MySQL</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notebook/pages/f68eec/" aria-current="page" class="active sidebar-link">MySQL基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/notebook/pages/f68eec/#序言" class="sidebar-link">序言</a></li><li class="sidebar-sub-header level2"><a href="/notebook/pages/f68eec/#mysql数据库的连接" class="sidebar-link">MySQL数据库的连接</a></li><li class="sidebar-sub-header level2"><a href="/notebook/pages/f68eec/#数据库相关的操作" class="sidebar-link">数据库相关的操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/notebook/pages/f68eec/#创建数据库" class="sidebar-link">创建数据库</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/f68eec/#删除数据库" class="sidebar-link">删除数据库</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/f68eec/#选择数据库" class="sidebar-link">选择数据库</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/f68eec/#数据类型" class="sidebar-link">数据类型</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/notebook/pages/f68eec/#表的相关操作" class="sidebar-link">表的相关操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/notebook/pages/f68eec/#创建表" class="sidebar-link">创建表</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/f68eec/#创建临时表" class="sidebar-link">创建临时表</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/f68eec/#复制表" class="sidebar-link">复制表</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/f68eec/#修改表-alter" class="sidebar-link">修改表 alter</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/notebook/pages/f68eec/#对数据的操作" class="sidebar-link">对数据的操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/notebook/pages/f68eec/#插入数据" class="sidebar-link">插入数据</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/f68eec/#处理重复数据" class="sidebar-link">处理重复数据</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/f68eec/#查询数据" class="sidebar-link">查询数据</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/f68eec/#like字句" class="sidebar-link">like字句</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/f68eec/#union" class="sidebar-link">union</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/f68eec/#排序" class="sidebar-link">排序</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/f68eec/#group分组-having语句" class="sidebar-link">group分组 having语句</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/f68eec/#联结" class="sidebar-link">联结</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/f68eec/#null值处理" class="sidebar-link">null值处理</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/f68eec/#更新数据" class="sidebar-link">更新数据</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/f68eec/#删除数据" class="sidebar-link">删除数据</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/notebook/pages/f68eec/#mysql函数" class="sidebar-link">MySQL函数</a></li><li class="sidebar-sub-header level2"><a href="/notebook/pages/f68eec/#事务" class="sidebar-link">事务</a></li><li class="sidebar-sub-header level2"><a href="/notebook/pages/f68eec/#sql注入" class="sidebar-link">SQL注入</a></li><li class="sidebar-sub-header level2"><a href="/notebook/pages/f68eec/#mysql-数据导入导出" class="sidebar-link">MySQL 数据导入导出</a></li></ul></li><li><a href="/notebook/pages/bbe5ea/" class="sidebar-link">MySQL 01  基础架构：一条SQL查询语句是如何执行的？</a></li><li><a href="/notebook/pages/04dce8/" class="sidebar-link">MySQL 02  日志系统：一条SQL更新语句是如何执行的？</a></li><li><a href="/notebook/pages/cd4c13/" class="sidebar-link">MySQL 03  事务隔离：为什么你改了我还看不见？</a></li><li><a href="/notebook/pages/c424df/" class="sidebar-link">MySQL 04  深入浅出索引</a></li><li><a href="/notebook/pages/1dd25e/" class="sidebar-link">MySQL 05 全局锁、表锁、行锁</a></li><li><a href="/notebook/pages/dc1b38/" class="sidebar-link">MySQL 06  事务到底是隔离的还是不隔离的？</a></li><li><a href="/notebook/pages/700d82/" class="sidebar-link">MySQL 07  普通索引和唯一索引，应该怎么选择？</a></li><li><a href="/notebook/pages/17729b/" class="sidebar-link">MySQL 08 自增主键为什么不是连续的</a></li><li><a href="/notebook/pages/2a0b72/" class="sidebar-link">MySQL 09 MySQL为什么有时候会选错索引</a></li><li><a href="/notebook/pages/dff62c/" class="sidebar-link">MySQL 10 如何给字符串字段加索引</a></li><li><a href="/notebook/pages/2bd18e/" class="sidebar-link">MySQL 11 为什么我的MySQL会“抖”一下</a></li><li><a href="/notebook/pages/993df4/" class="sidebar-link">MySQL 12 为什么表数据删掉一半，表文件大小不变</a></li><li><a href="/notebook/pages/537d79/" class="sidebar-link">MySQL 13 count()这么慢，我该怎么办</a></li><li><a href="/notebook/pages/8186e9/" class="sidebar-link">Redo Log &amp;&amp; Bin Log</a></li><li><a href="/notebook/pages/30dcdd/" class="sidebar-link">MySQL 14 Order By是怎么工作的</a></li><li><a href="/notebook/pages/5a6354/" class="sidebar-link">MySQL 15 如何正确地显示随机消息</a></li><li><a href="/notebook/pages/7f1a20/" class="sidebar-link">事务面试题</a></li><li><a href="/notebook/pages/9d6bcc/" class="sidebar-link">锁面试题</a></li><li><a href="/notebook/pages/4d2799/" class="sidebar-link">索引</a></li><li><a href="/notebook/pages/b05d8d/" class="sidebar-link">日志</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MongoDB</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Redis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Elatisearch</span> <span class="arrow right"></span></p> <!----></section></li></ul> <div class="sidebar-slot sidebar-slot-bottom"><!-- 正方形 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="3508773082"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div></aside> <div><main class="page"><div class="theme-vdoing-wrapper bg-style-6"><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/notebook/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/notebook/categories/?category=%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8E%E4%B8%AD%E9%97%B4%E4%BB%B6" title="分类" data-v-06225672>数据库与中间件</a></li><li data-v-06225672><a href="/notebook/categories/?category=MySQL" title="分类" data-v-06225672>MySQL</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/progressforeverever" target="_blank" title="作者" class="beLink" data-v-06225672>czy</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-07-03</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">MySQL基础<!----></h1> <div class="page-slot page-slot-top"><!-- 固定100% * 90px可显示，max-height:90px未见显示-->
     <ins class="adsbygoogle"
          style="display:inline-block;width:100%;max-height:90px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6625304284"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="theme-vdoing-content content__default"><h1 id="mysql"><a href="#mysql" class="header-anchor">#</a> MySQL</h1> <h2 id="序言"><a href="#序言" class="header-anchor">#</a> 序言</h2> <blockquote><p>MySQL是学习的第一个数据库，虽然看似普通的增删改查已经好像都会了，但还是要做个笔记，加深自己的理解，后面还有很多数据库的内容要学</p> <p><strong>勿以浮沙筑高台</strong></p></blockquote> <p>MySQL 是最好的 <strong>RDBMS(Relational Database Management System）</strong>：<strong>关系数据库</strong>管理系统)应用软件之一。</p> <p>数据库（Database）是按照<strong>数据结构来组织、存储和管理数据的仓库</strong>。</p> <p>每个数据库都有一个或<strong>多个不同的 API</strong> 用于创建，访问，管理，搜索和复制所保存的数据</p> <p>所谓的<strong>关系型数据库</strong>，是建立在<strong>关系模型基础上的数据库</strong>，借助于集合代数等数学概念和方法来处理数据库中的数据。</p> <ul><li>1.数据以表格的形式出现</li> <li>2.每行为各种记录名称</li> <li>3.每列为记录名称所对应的数据域</li> <li>4.许多的行和列组成一张表单</li> <li>5.若干的表单组成database</li></ul> <p>基本术语：</p> <ul><li><strong>数据库:</strong> 数据库是一些关联表的集合。</li> <li><strong>数据表:</strong> 表是数据的矩阵。在一个数据库中的表看起来像一个简单的电子表格。</li> <li><strong>列:</strong> 一列(数据元素) 包含了相同类型的数据, 例如邮政编码的数据。</li> <li><strong>行</strong>:一行（=元组，或记录）是一组相关的数据，例如一条用户订阅的数据。</li> <li><strong>冗余</strong>：<strong>存储两倍数据，冗余降低了性能，但提高了数据的安全性</strong>。</li> <li><strong>主键</strong>：主键是唯一的。一个数据表中只能包含一个主键。你可以使用主键来查询数据。</li> <li><strong>外键：</strong> <strong>外键用于关联两个表。</strong></li> <li><strong>复合键</strong>：复合键（组合键）将多个列作为一个索引键，一般用于复合索引。</li> <li><strong>索引</strong>:使用索引可快速访问数据库表中的特定信息。索引是对数据库表中一列或多列的值进行排序的一种结构。类似于书籍的目录。</li> <li><strong>参照完整性</strong>: 参照的完整性要求关系中不允许引用不存在的实体。与实体完整性是关系模型必须满足的完整性约束条件，目的是保证数据的一致性。</li></ul> <h2 id="mysql数据库的连接"><a href="#mysql数据库的连接" class="header-anchor">#</a> MySQL数据库的连接</h2> <p>从命令行中连接mysql服务器的简单实例：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql <span class="token operator">-</span>u root <span class="token operator">-</span>p
Enter password:<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>在登录成功后会出现 mysql&gt; 命令提示窗口，你可以在上面执行任何 SQL 语句。</p> <p>在以上实例中，我们使用了<strong>root用户登录</strong>到mysql服务器，当然你也可以使用其他mysql用户登录。</p> <p>如果用户权限足够，任何用户都可以在mysql的命令提示窗口中进行SQL操作。</p> <p>退出 mysql&gt; 命令提示窗口可以使用 <strong>exit 命令</strong>，如下所示：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">exit</span>
Bye
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>其实之前看很多项目，项目跑起来的一大关键点是配置好数据库，然后的话版本不同导致的字段不同也是一个问题。</p> <p>然后的话，学习每个数据库，假如只从命令行的角度去看的话，就有点抽象，需要一个可视化的软件，对于MySQL,navicat 或者SQLyog都是可以的。</p> <h2 id="数据库相关的操作"><a href="#数据库相关的操作" class="header-anchor">#</a> 数据库相关的操作</h2> <h3 id="创建数据库"><a href="#创建数据库" class="header-anchor">#</a> 创建数据库</h3> <p>我们可以在登陆 MySQL 服务后，使用 <strong>create</strong> 命令创建数据库，语法如下</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> 数据库名<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在创建数据库的时候，<strong>要指定编码方式和比较方式</strong></p> <h3 id="删除数据库"><a href="#删除数据库" class="header-anchor">#</a> 删除数据库</h3> <p>在删除数据库过程中，务必要十分谨慎，因为在执行删除命令后，所有数据将会消失。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">database</span> <span class="token operator">&lt;</span>数据库名<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="选择数据库"><a href="#选择数据库" class="header-anchor">#</a> 选择数据库</h3> <p>连接到 MySQL 数据库后，<strong>可能有多个可以操作的数据库</strong>，所以你需要<strong>选择你要操作的数据库</strong>。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token punctuation">[</span>root<span class="token variable">@host</span><span class="token punctuation">]</span><span class="token comment"># mysql -u root -p</span>
Enter password:<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">use</span> RUNOOB<span class="token punctuation">;</span>
<span class="token keyword">Database</span> changed
mysql<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="数据类型"><a href="#数据类型" class="header-anchor">#</a> 数据类型</h3> <p>MySQL 中<strong>定义数据字段的类型</strong>对你数据库的优化是非常重要的。</p> <p>大致可以分为三类：<strong>数值、日期/时间和字符串(字符)类型</strong></p> <h4 id="数值类型"><a href="#数值类型" class="header-anchor">#</a> 数值类型</h4> <table><thead><tr><th style="text-align:left;">类型</th> <th style="text-align:left;">大小</th> <th style="text-align:left;">范围（有符号）</th> <th style="text-align:left;">范围（无符号）</th> <th style="text-align:left;">用途</th></tr></thead> <tbody><tr><td style="text-align:left;">TINYINT</td> <td style="text-align:left;">1 Bytes</td> <td style="text-align:left;">(-128，127)</td> <td style="text-align:left;">(0，255)</td> <td style="text-align:left;">小整数值</td></tr> <tr><td style="text-align:left;">SMALLINT</td> <td style="text-align:left;">2 Bytes</td> <td style="text-align:left;">(-32 768，32 767)</td> <td style="text-align:left;">(0，65 535)</td> <td style="text-align:left;">大整数值</td></tr> <tr><td style="text-align:left;">MEDIUMINT</td> <td style="text-align:left;">3 Bytes</td> <td style="text-align:left;">(-8 388 608，8 388 607)</td> <td style="text-align:left;">(0，16 777 215)</td> <td style="text-align:left;">大整数值</td></tr> <tr><td style="text-align:left;"><strong>INT或INTEGER</strong></td> <td style="text-align:left;">4 Bytes</td> <td style="text-align:left;">(-2 147 483 648，2 147 483 647)</td> <td style="text-align:left;">(0，4 294 967 295)</td> <td style="text-align:left;">大整数值</td></tr> <tr><td style="text-align:left;">BIGINT</td> <td style="text-align:left;">8 Bytes</td> <td style="text-align:left;">(-9,223,372,036,854,775,808，9 223 372 036 854 775 807)</td> <td style="text-align:left;">(0，18 446 744 073 709 551 615)</td> <td style="text-align:left;">极大整数值</td></tr> <tr><td style="text-align:left;">FLOAT</td> <td style="text-align:left;">4 Bytes</td> <td style="text-align:left;">(-3.402 823 466 E+38，-1.175 494 351 E-38)，0，(1.175 494 351 E-38，3.402 823 466 351 E+38)</td> <td style="text-align:left;">0，(1.175 494 351 E-38，3.402 823 466 E+38)</td> <td style="text-align:left;">单精度 浮点数值</td></tr> <tr><td style="text-align:left;">DOUBLE</td> <td style="text-align:left;">8 Bytes</td> <td style="text-align:left;">(-1.797 693 134 862 315 7 E+308，-2.225 073 858 507 201 4 E-308)，0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308)</td> <td style="text-align:left;">0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308)</td> <td style="text-align:left;">双精度 浮点数值</td></tr> <tr><td style="text-align:left;">DECIMAL</td> <td style="text-align:left;">对DECIMAL(M,D) ，如果M&gt;D，为M+2否则为D+2</td> <td style="text-align:left;">依赖于M和D的值</td> <td style="text-align:left;">依赖于M和D的值</td> <td style="text-align:left;">小数值</td></tr></tbody></table> <h4 id="日期时间类型"><a href="#日期时间类型" class="header-anchor">#</a> 日期时间类型</h4> <table><thead><tr><th style="text-align:left;">类型</th> <th style="text-align:left;">大小 ( bytes)</th> <th style="text-align:left;">范围</th> <th style="text-align:left;">格式</th> <th style="text-align:left;">用途</th></tr></thead> <tbody><tr><td style="text-align:left;">DATE</td> <td style="text-align:left;">3</td> <td style="text-align:left;">1000-01-01/9999-12-31</td> <td style="text-align:left;">YYYY-MM-DD</td> <td style="text-align:left;">日期值</td></tr> <tr><td style="text-align:left;">TIME</td> <td style="text-align:left;">3</td> <td style="text-align:left;">'-838:59:59'/'838:59:59'</td> <td style="text-align:left;">HH:MM:SS</td> <td style="text-align:left;">时间值或持续时间</td></tr> <tr><td style="text-align:left;">YEAR</td> <td style="text-align:left;">1</td> <td style="text-align:left;">1901/2155</td> <td style="text-align:left;">YYYY</td> <td style="text-align:left;">年份值</td></tr> <tr><td style="text-align:left;"><strong>DATETIME</strong></td> <td style="text-align:left;">8</td> <td style="text-align:left;">'1000-01-01 00:00:00' 到 '9999-12-31 23:59:59'</td> <td style="text-align:left;">YYYY-MM-DD hh:mm:ss</td> <td style="text-align:left;">混合日期和时间值</td></tr> <tr><td style="text-align:left;"><strong>TIMESTAMP</strong></td> <td style="text-align:left;">4</td> <td style="text-align:left;">'1970-01-01 00:00:01' UTC 到 '2038-01-19 03:14:07' UTC结束时间是第 <strong>2147483647</strong> 秒，北京时间 <strong>2038-1-19 11:14:07</strong>，格林尼治时间 2038年1月19日 凌晨 03:14:07</td> <td style="text-align:left;">YYYY-MM-DD hh:mm:ss</td> <td style="text-align:left;">混合日期和时间值，<strong>时间戳</strong></td></tr></tbody></table> <h4 id="字符串类型"><a href="#字符串类型" class="header-anchor">#</a> 字符串类型</h4> <table><thead><tr><th style="text-align:left;">类型</th> <th style="text-align:left;">大小</th> <th style="text-align:left;">用途</th></tr></thead> <tbody><tr><td style="text-align:left;">CHAR</td> <td style="text-align:left;">0-255 bytes</td> <td style="text-align:left;">定长字符串</td></tr> <tr><td style="text-align:left;"><strong>VARCHAR</strong></td> <td style="text-align:left;">0-65535 bytes</td> <td style="text-align:left;"><strong>变长字符串</strong></td></tr> <tr><td style="text-align:left;">TINYBLOB</td> <td style="text-align:left;">0-255 bytes</td> <td style="text-align:left;">不超过 255 个字符的二进制字符串</td></tr> <tr><td style="text-align:left;">TINYTEXT</td> <td style="text-align:left;">0-255 bytes</td> <td style="text-align:left;">短文本字符串</td></tr> <tr><td style="text-align:left;">BLOB</td> <td style="text-align:left;">0-65 535 bytes</td> <td style="text-align:left;">二进制形式的长文本数据</td></tr> <tr><td style="text-align:left;"><strong>TEXT</strong></td> <td style="text-align:left;">0-65 535 bytes</td> <td style="text-align:left;"><strong>长文本数据</strong></td></tr> <tr><td style="text-align:left;">MEDIUMBLOB</td> <td style="text-align:left;">0-16 777 215 bytes</td> <td style="text-align:left;">二进制形式的中等长度文本数据</td></tr> <tr><td style="text-align:left;">MEDIUMTEXT</td> <td style="text-align:left;">0-16 777 215 bytes</td> <td style="text-align:left;">中等长度文本数据</td></tr> <tr><td style="text-align:left;">LONGBLOB</td> <td style="text-align:left;">0-4 294 967 295 bytes</td> <td style="text-align:left;">二进制形式的极大文本数据</td></tr> <tr><td style="text-align:left;">LONGTEXT</td> <td style="text-align:left;">0-4 294 967 295 bytes</td> <td style="text-align:left;">极大文本数据</td></tr></tbody></table> <p>对数据的容量的考虑是放在第一位，然后再去想着如何节省空间</p> <h4 id="序列"><a href="#序列" class="header-anchor">#</a> 序列</h4> <p>MySQL 序列是一组整数：1, 2, 3, ...，由于<strong>一张数据表只能有一个字段自增主键</strong>， 如果你想实现<strong>其他字段也实现自动增加，就可以使用MySQL序列来实现。</strong></p> <p>MySQL 中最简单使用序列的方法就是使用 MySQL <strong>AUTO_INCREMENT 来定义序列。</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> insect
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> id <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token comment"># type of insect</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">date</span> <span class="token keyword">DATE</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token comment"># date collected</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> origin <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token comment"># where collected</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.02</span> sec<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> insect <span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span><span class="token keyword">date</span><span class="token punctuation">,</span>origin<span class="token punctuation">)</span> <span class="token keyword">VALUES</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token string">'housefly'</span><span class="token punctuation">,</span><span class="token string">'2001-09-10'</span><span class="token punctuation">,</span><span class="token string">'kitchen'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token string">'millipede'</span><span class="token punctuation">,</span><span class="token string">'2001-09-10'</span><span class="token punctuation">,</span><span class="token string">'driveway'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token string">'grasshopper'</span><span class="token punctuation">,</span><span class="token string">'2001-09-10'</span><span class="token punctuation">,</span><span class="token string">'front yard'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">3</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.02</span> sec<span class="token punctuation">)</span>
Records: <span class="token number">3</span>  Duplicates: <span class="token number">0</span>  <span class="token keyword">Warnings</span>: <span class="token number">0</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> insect <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> id<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------+------------+------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name        <span class="token operator">|</span> <span class="token keyword">date</span>       <span class="token operator">|</span> origin     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+------------+------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> housefly    <span class="token operator">|</span> <span class="token number">2001</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">10</span> <span class="token operator">|</span> kitchen    <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> millipede   <span class="token operator">|</span> <span class="token number">2001</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">10</span> <span class="token operator">|</span> driveway   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> grasshopper <span class="token operator">|</span> <span class="token number">2001</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">10</span> <span class="token operator">|</span> front yard <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+------------+------------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>使用 SQL中的<strong>LAST_INSERT_ID( ) 函数来获取最后的插入表中的自增列的值。</strong></p> <h2 id="表的相关操作"><a href="#表的相关操作" class="header-anchor">#</a> 表的相关操作</h2> <h3 id="创建表"><a href="#创建表" class="header-anchor">#</a> 创建表</h3> <p>创建MySQL数据表需要以下信息：</p> <ul><li>表名</li> <li>表字段名</li> <li>定义每个表字段</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> table_name <span class="token punctuation">(</span>column_name column_type<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>runoob_tbl<span class="token punctuation">`</span></span><span class="token punctuation">(</span>
   <span class="token identifier"><span class="token punctuation">`</span>runoob_id<span class="token punctuation">`</span></span> <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
   <span class="token identifier"><span class="token punctuation">`</span>runoob_title<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
   <span class="token identifier"><span class="token punctuation">`</span>runoob_author<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
   <span class="token identifier"><span class="token punctuation">`</span>submission_date<span class="token punctuation">`</span></span> <span class="token keyword">DATE</span><span class="token punctuation">,</span>
   <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span> <span class="token identifier"><span class="token punctuation">`</span>runoob_id<span class="token punctuation">`</span></span> <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>保持谨慎的作风，创建数据库、创建表的时候，都要最好加一个 if ont exists  ,提前判断数据库、表是否存在</p> <ul><li>如果你不想字段为 <strong>NULL</strong> 可以设置字段的属性为 <strong>NOT NULL</strong>， 在操作数据库时如果输入该字段的数据为<strong>NULL</strong> ，就会报错。</li> <li><strong>AUTO_INCREMENT定义列为自增的属性</strong>，一般<strong>用于主键</strong>，数值会自动加1。</li> <li>PRIMARY KEY关键字用于定义列为主键。 您可以使用多列来定义主键，列间以逗号分隔。</li> <li><strong>ENGINE 设置存储引擎，CHARSET 设置编码。</strong></li></ul> <p>创建数据库和创建表的时候，<strong>一定要提前设计好</strong>，不能即兴想到啥就设计啥，不然到时候后期再去更改就很麻烦了。</p> <h3 id="创建临时表"><a href="#创建临时表" class="header-anchor">#</a> 创建临时表</h3> <p>MySQL 临时表在我们需要保存一些临时数据时是非常有用的。临时表只在当前连接可见，<strong>当关闭连接时，Mysql会自动删除表并释放所有空间。</strong></p> <p>如果你使用了其他MySQL客户端程序连接MySQL数据库服务器来创建临时表，那么只有在关闭客户端程序时才会销毁临时表，当然你也可以手动销毁。</p> <p>create temporary table XXX</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">CREATE</span> <span class="token keyword">TEMPORARY</span> <span class="token keyword">TABLE</span> SalesSummary <span class="token punctuation">(</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> product_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">,</span> total_sales <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token number">0.00</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">,</span> avg_unit_price <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token number">0.00</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">,</span> total_units_sold <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> SalesSummary
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>product_name<span class="token punctuation">,</span> total_sales<span class="token punctuation">,</span> avg_unit_price<span class="token punctuation">,</span> total_units_sold<span class="token punctuation">)</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">VALUES</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token string">'cucumber'</span><span class="token punctuation">,</span> <span class="token number">100.25</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> SalesSummary<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------+-------------+----------------+------------------+</span>
<span class="token operator">|</span> product_name <span class="token operator">|</span> total_sales <span class="token operator">|</span> avg_unit_price <span class="token operator">|</span> total_units_sold <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+-------------+----------------+------------------+</span>
<span class="token operator">|</span> cucumber     <span class="token operator">|</span>      <span class="token number">100.25</span> <span class="token operator">|</span>          <span class="token number">90.00</span> <span class="token operator">|</span>                <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+-------------+----------------+------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>用查询直接创建临时表的方式：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TEMPORARY</span> <span class="token keyword">TABLE</span> 临时表名 <span class="token keyword">AS</span>
<span class="token punctuation">(</span>
    <span class="token keyword">SELECT</span> <span class="token operator">*</span>  <span class="token keyword">FROM</span> 旧的表名
    <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10000</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="复制表"><a href="#复制表" class="header-anchor">#</a> 复制表</h3> <p>代写  用到再说吧</p> <h3 id="修改表-alter"><a href="#修改表-alter" class="header-anchor">#</a> 修改表 alter</h3> <p>当我们需要修改数据表名或者修改数据表字段时，就需要使用到MySQL <strong>ALTER命令。</strong></p> <p>创建一个表先：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>root<span class="token variable">@host</span><span class="token comment"># mysql -u root -p password;</span>
Enter password:<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">use</span> RUNOOB<span class="token punctuation">;</span>
<span class="token keyword">Database</span> changed
mysql<span class="token operator">&gt;</span> <span class="token keyword">create</span> <span class="token keyword">table</span> testalter_tbl
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> i <span class="token keyword">INT</span><span class="token punctuation">,</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> c <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.05</span> sec<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">SHOW</span> <span class="token keyword">COLUMNS</span> <span class="token keyword">FROM</span> testalter_tbl<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+---------+------+-----+---------+-------+</span>
<span class="token operator">|</span> Field <span class="token operator">|</span> <span class="token keyword">Type</span>    <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span> <span class="token operator">|</span> Extra <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+------+-----+---------+-------+</span>
<span class="token operator">|</span> i     <span class="token operator">|</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> c     <span class="token operator">|</span> <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+------+-----+---------+-------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><ul><li>删除字段</li></ul> <p>使用了 <strong>ALTER 命令及 DROP 子句</strong>来删除以上创建表的 i 字段：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> testalter_tbl  <span class="token keyword">DROP</span> i<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>添加字段</li></ul> <p>使用 <strong>ADD 子句</strong>来向数据表中添加列，如下实例在表 testalter_tbl 中添加 i 字段，<strong>并定义数据类型</strong>:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> testalter_tbl <span class="token keyword">ADD</span> i <span class="token keyword">INT</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><p>指定字段的位置</p> <p>指定新增字段的位置，可以使用MySQL提供的关键字 <strong>FIRST (设定位第一列)， AFTER 字段名（设定位于某个字段之后）</strong>。</p></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> testalter_tbl <span class="token keyword">DROP</span> i<span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> testalter_tbl <span class="token keyword">ADD</span> i <span class="token keyword">INT</span> <span class="token keyword">FIRST</span><span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> testalter_tbl <span class="token keyword">DROP</span> i<span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> testalter_tbl <span class="token keyword">ADD</span> i <span class="token keyword">INT</span> <span class="token keyword">AFTER</span> c<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>修改字段类型</li></ul> <p>可以在ALTER命令中使用 <strong>MODIFY 或 CHANGE 子句</strong> 。</p> <p>例如，把字段 c 的类型从 CHAR(1) 改为 CHAR(10)，可以执行以下命令:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> testalter_tbl <span class="token keyword">MODIFY</span> c <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>修改表名</li></ul> <p>在 ALTER TABLE 语句中使用 <strong>RENAME 子句</strong>来实现。</p> <p>尝试以下实例将数据表 testalter_tbl 重命名为 alter_tbl：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> testalter_tbl <span class="token keyword">RENAME</span> <span class="token keyword">TO</span> alter_tbl<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>修改默认字段</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> testalter_tbl <span class="token keyword">ALTER</span> i <span class="token keyword">SET</span> <span class="token keyword">DEFAULT</span> <span class="token number">1000</span><span class="token punctuation">;</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> testalter_tbl <span class="token keyword">ALTER</span> i <span class="token keyword">DROP</span> <span class="token keyword">DEFAULT</span><span class="token punctuation">;</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">SHOW</span> <span class="token keyword">COLUMNS</span> <span class="token keyword">FROM</span> testalter_tbl<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>查看一个表的结构</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">SHOW</span> <span class="token keyword">COLUMNS</span> <span class="token keyword">FROM</span> testalter_tbl<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="删除表"><a href="#删除表" class="header-anchor">#</a> 删除表</h5> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> table_name <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="对数据的操作"><a href="#对数据的操作" class="header-anchor">#</a> 对数据的操作</h2> <h3 id="插入数据"><a href="#插入数据" class="header-anchor">#</a> 插入数据</h3> <p>MySQL 表中使用 <strong>INSERT INTO</strong> SQL语句来插入数据</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> table_name <span class="token punctuation">(</span> field1<span class="token punctuation">,</span> field2<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>fieldN <span class="token punctuation">)</span>
                       <span class="token keyword">VALUES</span>
                       <span class="token punctuation">(</span> value1<span class="token punctuation">,</span> value2<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>valueN <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>也可以不指定字段，这样虽然简洁了一点，但后期一旦对表有修改就会导致字段对不上，</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>root<span class="token variable">@host</span><span class="token comment"># mysql -u root -p password;</span>
Enter password:<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">use</span> RUNOOB<span class="token punctuation">;</span>
<span class="token keyword">Database</span> changed
mysql<span class="token operator">&gt;</span> <span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> runoob_tbl 
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>runoob_title<span class="token punctuation">,</span> runoob_author<span class="token punctuation">,</span> submission_date<span class="token punctuation">)</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">VALUES</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token string">&quot;学习 PHP&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;菜鸟教程&quot;</span><span class="token punctuation">,</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">rows</span> affected<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">warnings</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> runoob_tbl
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>runoob_title<span class="token punctuation">,</span> runoob_author<span class="token punctuation">,</span> submission_date<span class="token punctuation">)</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">VALUES</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token string">&quot;学习 MySQL&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;菜鸟教程&quot;</span><span class="token punctuation">,</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">rows</span> affected<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">warnings</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> runoob_tbl
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>runoob_title<span class="token punctuation">,</span> runoob_author<span class="token punctuation">,</span> submission_date<span class="token punctuation">)</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">VALUES</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token string">&quot;JAVA 教程&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;RUNOOB.COM&quot;</span><span class="token punctuation">,</span> <span class="token string">'2016-05-06'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="处理重复数据"><a href="#处理重复数据" class="header-anchor">#</a> 处理重复数据</h3> <p>MySQL 数据表中设置指定的字段为 <strong>PRIMARY KEY（主键）</strong> 或者 <strong>UNIQUE（唯一）</strong> 索引来保证数据的唯一性。</p> <p>如果你想设置表中字段 first_name，last_name 数据不能重复，你可以设置双主键模式来设置数据的唯一性， 如果你设置了双主键，那么那个键的默认值不能为 NULL，可设置为 NOT NULL。如下所示：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> person_tbl
<span class="token punctuation">(</span>
   first_name <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
   last_name <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
   sex <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>last_name<span class="token punctuation">,</span> first_name<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>INSERT IGNORE INTO</strong> 与 <strong>INSERT INTO</strong> 的区别就是 <strong>INSERT IGNORE INTO 会忽略数据库中已经存在的数据</strong>，如果数据库没有数据，就插入新的数据，如果有数据的话就跳过这条数据。这样就可以保留数据库中已经存在数据，达到在间隙中插入数据的目的。</p> <h3 id="查询数据"><a href="#查询数据" class="header-anchor">#</a> 查询数据</h3> <p>查询数据可谓是每个数据库的重点了！！！</p> <p>MySQL 数据库使用SQL <strong>SELECT语句来查询数据。</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column_name<span class="token punctuation">,</span>column_name
<span class="token keyword">FROM</span> table_name
<span class="token punctuation">[</span><span class="token keyword">WHERE</span> Clause<span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token keyword">LIMIT</span> N<span class="token punctuation">]</span><span class="token punctuation">[</span> <span class="token keyword">OFFSET</span> M<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>本质上表，被分成了很多个格，就是个矩阵，每列的开头是字段，一行行的是具体数据，查询是从行和列的角度出发，对数据进行定位</p> <ul><li><p>查询语句中你可以使用一个或者多个表，表之间使用逗号(,)分割，并使用WHERE语句来设定查询条件。</p></li> <li><p>SELECT 命令可以读取一条或者多条记录。</p></li> <li><p>你可以使用<strong>星号（*）来代替其他字段，SELECT语句会返回表的所有字段数据</strong></p></li> <li><p>你可以使用 <strong>WHERE 语句来包含任何条件</strong>。</p></li> <li><p>你可以使用 LIMIT 属性来设定返回的记录数。</p></li> <li><p>你可以通过OFFSET指定SELECT语句开始查询的数据偏移量。默认情况下偏移量为0。</p></li> <li><p>查询语句中你可以使用一个或者多个表，表之间使用逗号**,** 分割，并使用WHERE语句来设定查询条件。</p></li> <li><p>你可以在 WHERE 子句中指定任何条件。</p></li> <li><p>你可以使用 <strong>AND 或者 OR 指定一个或多个条件。</strong></p></li> <li><p><strong>WHERE 子句也可以运用于 SQL 的 DELETE 或者 UPDATE 命令。</strong></p></li> <li><p>WHERE 子句类似于<strong>程序语言中的 if 条件</strong>，根据 MySQL 表中的字段值来读取指定的数据</p></li></ul> <h3 id="like字句"><a href="#like字句" class="header-anchor">#</a> like字句</h3> <p>like字句类似于<strong>模糊查询</strong></p> <p>有时候我们需要获取 runoob_author 字段<strong>含有 &quot;COM&quot; 字符的所有记录</strong>，这时我们就需要在 WHERE 子句中使用 SQL <strong>LIKE 子句</strong>。</p> <p>SQL LIKE 子句中使用百分号 **%**字符来表示任意字符，</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">use</span> RUNOOB<span class="token punctuation">;</span>
<span class="token keyword">Database</span> changed
mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> runoob_tbl  <span class="token keyword">WHERE</span> runoob_author <span class="token operator">LIKE</span> <span class="token string">'%COM'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+---------------+---------------+-----------------+</span>
<span class="token operator">|</span> runoob_id <span class="token operator">|</span> runoob_title  <span class="token operator">|</span> runoob_author <span class="token operator">|</span> submission_date <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+---------------+---------------+-----------------+</span>
<span class="token operator">|</span> <span class="token number">3</span>         <span class="token operator">|</span> 学习 Java   <span class="token operator">|</span> RUNOOB<span class="token punctuation">.</span>COM    <span class="token operator">|</span> <span class="token number">2015</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span>      <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4</span>         <span class="token operator">|</span> 学习 Python <span class="token operator">|</span> RUNOOB<span class="token punctuation">.</span>COM    <span class="token operator">|</span> <span class="token number">2016</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">06</span>      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+---------------+---------------+-----------------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="union"><a href="#union" class="header-anchor">#</a> union</h3> <p>MySQL <strong>UNION 操作符用于连接两个以上的 SELECT 语句的结果组合到一个结果集合中</strong>。<strong>多个 SELECT 语句会删除重复的数据</strong>。</p> <p>MySQL UNION 操作符语法格式</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> expression1<span class="token punctuation">,</span> expression2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> expression_n
<span class="token keyword">FROM</span> <span class="token keyword">tables</span>
<span class="token punctuation">[</span><span class="token keyword">WHERE</span> conditions<span class="token punctuation">]</span>
<span class="token keyword">UNION</span> <span class="token punctuation">[</span><span class="token keyword">ALL</span> <span class="token operator">|</span> <span class="token keyword">DISTINCT</span><span class="token punctuation">]</span>
<span class="token keyword">SELECT</span> expression1<span class="token punctuation">,</span> expression2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> expression_n
<span class="token keyword">FROM</span> <span class="token keyword">tables</span>
<span class="token punctuation">[</span><span class="token keyword">WHERE</span> conditions<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>下面是选自 &quot;Websites&quot; 表的数据：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Websites<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------------+---------------------------+-------+---------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name         <span class="token operator">|</span> url                       <span class="token operator">|</span> alexa <span class="token operator">|</span> country <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------------+---------------------------+-------+---------+</span>
<span class="token operator">|</span> <span class="token number">1</span>  <span class="token operator">|</span> Google       <span class="token operator">|</span> https:<span class="token comment">//www.google.cm/    | 1     | USA     |</span>
<span class="token operator">|</span> <span class="token number">2</span>  <span class="token operator">|</span> 淘宝          <span class="token operator">|</span> https:<span class="token comment">//www.taobao.com/   | 13    | CN      |</span>
<span class="token operator">|</span> <span class="token number">3</span>  <span class="token operator">|</span> 菜鸟教程      <span class="token operator">|</span> http:<span class="token comment">//www.runoob.com/    | 4689  | CN      |</span>
<span class="token operator">|</span> <span class="token number">4</span>  <span class="token operator">|</span> 微博          <span class="token operator">|</span> http:<span class="token comment">//weibo.com/         | 20    | CN      |</span>
<span class="token operator">|</span> <span class="token number">5</span>  <span class="token operator">|</span> Facebook     <span class="token operator">|</span> https:<span class="token comment">//www.facebook.com/ | 3     | USA     |</span>
<span class="token operator">|</span> <span class="token number">7</span>  <span class="token operator">|</span> stackoverflow <span class="token operator">|</span> http:<span class="token comment">//stackoverflow.com/ |   0 | IND     |</span>
<span class="token operator">+</span><span class="token comment">----+---------------+---------------------------+-------+---------+</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>下面是 &quot;apps&quot; APP 的数据：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> apps<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+------------+-------------------------+---------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> app_name   <span class="token operator">|</span> url                     <span class="token operator">|</span> country <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+------------+-------------------------+---------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> QQ APP     <span class="token operator">|</span> http:<span class="token comment">//im.qq.com/       | CN      |</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 微博 APP <span class="token operator">|</span> http:<span class="token comment">//weibo.com/       | CN      |</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 淘宝 APP <span class="token operator">|</span> https:<span class="token comment">//www.taobao.com/ | CN      |</span>
<span class="token operator">+</span><span class="token comment">----+------------+-------------------------+---------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>下面的 SQL 语句从 &quot;Websites&quot; 和 &quot;apps&quot; 表中选取所有<strong>不同的</strong>country（只有不同的值）：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> country <span class="token keyword">FROM</span> Websites
<span class="token keyword">UNION</span>
<span class="token keyword">SELECT</span> country <span class="token keyword">FROM</span> apps
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> country<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>执行以上 SQL 输出结果如下：</p> <p><img src="https://www.runoob.com/wp-content/uploads/2013/09/union1.jpg" alt="img"></p> <p><strong>注释：<strong>UNION 不能用于列出两个表中所有的country。如果一些网站和APP来自同一个国家，每个国家只会列出一次。UNION 只会选取不同的值。请</strong>使用 UNION ALL 来选取重复的值</strong>！</p> <p>下面的 SQL语句使用 UNION ALL 从 &quot;Websites&quot; 和 &quot;apps&quot; 表中选取<strong>所有的</strong>中国(CN)的数据（也有重复的值）：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> country<span class="token punctuation">,</span> name <span class="token keyword">FROM</span> Websites
<span class="token keyword">WHERE</span> country<span class="token operator">=</span><span class="token string">'CN'</span>
<span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
<span class="token keyword">SELECT</span> country<span class="token punctuation">,</span> app_name <span class="token keyword">FROM</span> apps
<span class="token keyword">WHERE</span> country<span class="token operator">=</span><span class="token string">'CN'</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> country<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>执行以上 SQL 输出结果如下：</p> <p><img src="https://www.runoob.com/wp-content/uploads/2013/09/AAA99C7B-36A5-43FB-B489-F8CE63B62C71.jpg" alt="img"></p> <h3 id="排序"><a href="#排序" class="header-anchor">#</a> 排序</h3> <p>如果我们需要对读取的数据进行排序，我们就可以使用 MySQL 的 <strong>ORDER BY</strong> 子句来设定你想按哪个字段哪种方式来进行排序，再返回搜索结果。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> field1<span class="token punctuation">,</span> field2<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>fieldN <span class="token keyword">FROM</span> table_name1<span class="token punctuation">,</span> table_name2<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> field1 <span class="token punctuation">[</span><span class="token keyword">ASC</span> <span class="token punctuation">[</span><span class="token keyword">DESC</span><span class="token punctuation">]</span><span class="token punctuation">[</span>默认 <span class="token keyword">ASC</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>field2<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">ASC</span> <span class="token punctuation">[</span><span class="token keyword">DESC</span><span class="token punctuation">]</span><span class="token punctuation">[</span>默认 <span class="token keyword">ASC</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>你可以使用任何字段来作为排序的条件，从而返回排序后的查询结果。</li> <li>你可以设定多个字段来排序。</li> <li>你可以使用 <strong>ASC(升序)</strong> 或 <strong>DESC（降序）</strong> 关键字来设置查询结果是按升序或降序排列。 默认情况下，它是按升序排列。</li> <li>你可以添加 WHERE...LIKE 子句来设置条件。</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">use</span> RUNOOB<span class="token punctuation">;</span>
<span class="token keyword">Database</span> changed
mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> runoob_tbl <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> submission_date <span class="token keyword">ASC</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+---------------+---------------+-----------------+</span>
<span class="token operator">|</span> runoob_id <span class="token operator">|</span> runoob_title  <span class="token operator">|</span> runoob_author <span class="token operator">|</span> submission_date <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+---------------+---------------+-----------------+</span>
<span class="token operator">|</span> <span class="token number">3</span>         <span class="token operator">|</span> 学习 Java   <span class="token operator">|</span> RUNOOB<span class="token punctuation">.</span>COM    <span class="token operator">|</span> <span class="token number">2015</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span>      <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4</span>         <span class="token operator">|</span> 学习 Python <span class="token operator">|</span> RUNOOB<span class="token punctuation">.</span>COM    <span class="token operator">|</span> <span class="token number">2016</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">06</span>      <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1</span>         <span class="token operator">|</span> 学习 PHP    <span class="token operator">|</span> 菜鸟教程  <span class="token operator">|</span> <span class="token number">2017</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">12</span>      <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2</span>         <span class="token operator">|</span> 学习 MySQL  <span class="token operator">|</span> 菜鸟教程  <span class="token operator">|</span> <span class="token number">2017</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">12</span>      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+---------------+---------------+-----------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> runoob_tbl <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> submission_date <span class="token keyword">DESC</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+---------------+---------------+-----------------+</span>
<span class="token operator">|</span> runoob_id <span class="token operator">|</span> runoob_title  <span class="token operator">|</span> runoob_author <span class="token operator">|</span> submission_date <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+---------------+---------------+-----------------+</span>
<span class="token operator">|</span> <span class="token number">1</span>         <span class="token operator">|</span> 学习 PHP    <span class="token operator">|</span> 菜鸟教程  <span class="token operator">|</span> <span class="token number">2017</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">12</span>      <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2</span>         <span class="token operator">|</span> 学习 MySQL  <span class="token operator">|</span> 菜鸟教程  <span class="token operator">|</span> <span class="token number">2017</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">12</span>      <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4</span>         <span class="token operator">|</span> 学习 Python <span class="token operator">|</span> RUNOOB<span class="token punctuation">.</span>COM    <span class="token operator">|</span> <span class="token number">2016</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">06</span>      <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">3</span>         <span class="token operator">|</span> 学习 Java   <span class="token operator">|</span> RUNOOB<span class="token punctuation">.</span>COM    <span class="token operator">|</span> <span class="token number">2015</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span>      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+---------------+---------------+-----------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="group分组-having语句"><a href="#group分组-having语句" class="header-anchor">#</a> group分组 having语句</h3> <p>GROUP BY 语句根据<strong>一个或多个列对结果集进行分组</strong>。</p> <p>在<strong>分组的列上我们可以使用 COUNT, SUM, AVG,等函数      （对分组进行操作）</strong>。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> name<span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span>   employee_tbl <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> name<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+----------+</span>
<span class="token operator">|</span> name   <span class="token operator">|</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+----------+</span>
<span class="token operator">|</span> 小丽 <span class="token operator">|</span>        <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span> 小明 <span class="token operator">|</span>        <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">|</span> 小王 <span class="token operator">|</span>        <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+----------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>往往要在分组之后做一些操作</p> <p>采取having语句</p> <h3 id="联结"><a href="#联结" class="header-anchor">#</a> 联结</h3> <p>在一张表中读取数据，这是相对简单的，但是在<strong>真正的应用中经常需要从多个数据表中读取数据。（这也许就是	NoSQL出来的原因？ 毕竟感觉是不是因为这样MySQL的性能就降低了）</strong></p> <p>联结：将多个表关联起来</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span>
  <span class="token identifier"><span class="token punctuation">`</span> cust_email <span class="token punctuation">`</span></span>
<span class="token keyword">from</span>
  <span class="token identifier"><span class="token punctuation">`</span> Customers <span class="token punctuation">`</span></span><span class="token punctuation">,</span>		
  <span class="token comment">#哪怕·cust_email·只在Customers表里面  但因为是联结，和其他几个表也有关联  所以要把其他几个表也给带上</span>
  <span class="token identifier"><span class="token punctuation">`</span> OrderItems <span class="token punctuation">`</span></span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span> Orders <span class="token punctuation">`</span></span> 
<span class="token keyword">where</span>
  <span class="token identifier"><span class="token punctuation">`</span> OrderItems <span class="token punctuation">`</span></span><span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span> order_num <span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token identifier"><span class="token punctuation">`</span> Orders <span class="token punctuation">`</span></span><span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span> order_num <span class="token punctuation">`</span></span> 
  <span class="token operator">and</span> <span class="token identifier"><span class="token punctuation">`</span> Orders <span class="token punctuation">`</span></span><span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span> cust_id <span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token identifier"><span class="token punctuation">`</span> Customers <span class="token punctuation">`</span></span><span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span> cust_id <span class="token punctuation">`</span></span> 
  <span class="token operator">and</span> <span class="token identifier"><span class="token punctuation">`</span> OrderItems <span class="token punctuation">`</span></span><span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span> prod_id <span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token string">'BR01'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>inner join的写法</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token identifier"><span class="token punctuation">`</span>cust_email<span class="token punctuation">`</span></span> <span class="token keyword">from</span> <span class="token identifier"><span class="token punctuation">`</span>Customers<span class="token punctuation">`</span></span>
    <span class="token keyword">inner</span> <span class="token keyword">join</span> <span class="token identifier"><span class="token punctuation">`</span>Orders<span class="token punctuation">`</span></span> <span class="token keyword">on</span> <span class="token identifier"><span class="token punctuation">`</span>Customers<span class="token punctuation">`</span></span><span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>cust_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token identifier"><span class="token punctuation">`</span>Orders<span class="token punctuation">`</span></span><span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>cust_id<span class="token punctuation">`</span></span>	
    <span class="token keyword">inner</span> <span class="token keyword">join</span> <span class="token identifier"><span class="token punctuation">`</span>OrderItems<span class="token punctuation">`</span></span> <span class="token keyword">on</span> <span class="token identifier"><span class="token punctuation">`</span>OrderItems<span class="token punctuation">`</span></span><span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>order_num<span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token identifier"><span class="token punctuation">`</span>Orders<span class="token punctuation">`</span></span><span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>order_num<span class="token punctuation">`</span></span>
    <span class="token keyword">where</span> <span class="token identifier"><span class="token punctuation">`</span>OrderItems<span class="token punctuation">`</span></span><span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>prod_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token string">'BR01'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>关联一个表一个Inner join ...on     不要写在一块</p></blockquote> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> a<span class="token punctuation">.</span>runoob_id<span class="token punctuation">,</span> a<span class="token punctuation">.</span>runoob_author<span class="token punctuation">,</span> b<span class="token punctuation">.</span>runoob_count <span class="token keyword">FROM</span> runoob_tbl a <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> tcount_tbl b <span class="token keyword">ON</span> a<span class="token punctuation">.</span>runoob_author <span class="token operator">=</span> b<span class="token punctuation">.</span>runoob_author<span class="token punctuation">;</span>

<span class="token comment"># 简写表的名称  </span>

<span class="token operator">+</span><span class="token comment">-------------+-----------------+----------------+</span>
<span class="token operator">|</span> a<span class="token punctuation">.</span>runoob_id <span class="token operator">|</span> a<span class="token punctuation">.</span>runoob_author <span class="token operator">|</span> b<span class="token punctuation">.</span>runoob_count <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------+-----------------+----------------+</span>
<span class="token operator">|</span> <span class="token number">1</span>           <span class="token operator">|</span> 菜鸟教程    <span class="token operator">|</span> <span class="token number">10</span>             <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2</span>           <span class="token operator">|</span> 菜鸟教程    <span class="token operator">|</span> <span class="token number">10</span>             <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">3</span>           <span class="token operator">|</span> RUNOOB<span class="token punctuation">.</span>COM      <span class="token operator">|</span> <span class="token number">20</span>             <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4</span>           <span class="token operator">|</span> RUNOOB<span class="token punctuation">.</span>COM      <span class="token operator">|</span> <span class="token number">20</span>             <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------+-----------------+----------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>JOIN 按照功能大致分为如下三类：</p> <ul><li><strong>INNER JOIN（内连接,或等值连接）</strong>：获取两个表中字段匹配关系的记录。</li> <li>**LEFT JOIN（左连接）：**获取左表所有记录，即使右表没有对应匹配的记录。</li> <li><strong>RIGHT JOIN（右连接）：</strong> 与 LEFT JOIN 相反，用于获取右表所有记录，即使左表没有对应匹配的记录。</li></ul> <p><img src="https://www.runoob.com/wp-content/uploads/2014/03/img_innerjoin.gif" alt="img"></p> <p>MySQL <strong>LEFT JOIN</strong> 会<strong>读取左边数据表的全部数据，即使右边表无对应数据。</strong></p> <p>以 <strong>runoob_tbl</strong> 为左表，<strong>tcount_tbl</strong> 为右表，理解 MySQL LEFT JOIN 的应用：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> a<span class="token punctuation">.</span>runoob_id<span class="token punctuation">,</span> a<span class="token punctuation">.</span>runoob_author<span class="token punctuation">,</span> b<span class="token punctuation">.</span>runoob_count <span class="token keyword">FROM</span> runoob_tbl a <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> tcount_tbl b <span class="token keyword">ON</span> a<span class="token punctuation">.</span>runoob_author <span class="token operator">=</span> b<span class="token punctuation">.</span>runoob_author<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------------+-----------------+----------------+</span>
<span class="token operator">|</span> a<span class="token punctuation">.</span>runoob_id <span class="token operator">|</span> a<span class="token punctuation">.</span>runoob_author <span class="token operator">|</span> b<span class="token punctuation">.</span>runoob_count <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------+-----------------+----------------+</span>
<span class="token operator">|</span> <span class="token number">1</span>           <span class="token operator">|</span> 菜鸟教程    <span class="token operator">|</span> <span class="token number">10</span>             <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2</span>           <span class="token operator">|</span> 菜鸟教程    <span class="token operator">|</span> <span class="token number">10</span>             <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">3</span>           <span class="token operator">|</span> RUNOOB<span class="token punctuation">.</span>COM      <span class="token operator">|</span> <span class="token number">20</span>             <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4</span>           <span class="token operator">|</span> RUNOOB<span class="token punctuation">.</span>COM      <span class="token operator">|</span> <span class="token number">20</span>             <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">5</span>           <span class="token operator">|</span> FK              <span class="token operator">|</span> <span class="token boolean">NULL</span>           <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------+-----------------+----------------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><img src="https://www.runoob.com/wp-content/uploads/2014/03/img_leftjoin.gif" alt="img"></p> <p><img src="https://www.runoob.com/wp-content/uploads/2014/03/img_rightjoin.gif" alt="img"></p> <h3 id="null值处理"><a href="#null值处理" class="header-anchor">#</a> null值处理</h3> <p>我们已经知道 MySQL 使用 SQL SELECT 命令及 WHERE 子句来读取数据表中的数据,但是当提供的<strong>查询条件字段为 NULL 时，该命令可能就无法正常工作。</strong></p> <p>为了处理这种情况，MySQL提供了三大运算符:</p> <ul><li><strong>IS NULL:</strong> 当列的值是 NULL,此运算符返回 true。</li> <li><strong>IS NOT NULL:</strong> 当列的值不为 NULL, 运算符返回 true。</li> <li><strong>&lt;=&gt;:</strong> 比较操作符（不同于 = 运算符），当比较的的两个值相等或者都为 NULL 时返回 true。</li></ul> <p>关于 NULL 的条件比较运算是比较特殊的。你<strong>不能使用 = NULL 或 != NULL 在列中查找 NULL 值</strong> 。</p> <p>在 MySQL 中，<strong>NULL 值与任何其它值的比较（即使是 NULL）永远返回 NULL，即 NULL = NULL 返回 NULL 。</strong></p> <p>以下实例中你可以看到 = 和 != 运算符是不起作用的：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> runoob_test_tbl <span class="token keyword">WHERE</span> runoob_count <span class="token operator">=</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
Empty <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> runoob_test_tbl <span class="token keyword">WHERE</span> runoob_count <span class="token operator">!=</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span> 
Empty <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>查找数据表中 runoob_test_tbl 列是否为 NULL，必须使用 <strong>IS NULL</strong> 和 <strong>IS NOT NULL</strong>，如下实例：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> runoob_test_tbl <span class="token keyword">WHERE</span> runoob_count <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------------+--------------+</span>
<span class="token operator">|</span> runoob_author <span class="token operator">|</span> runoob_count <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+--------------+</span>
<span class="token operator">|</span> 菜鸟教程  <span class="token operator">|</span> <span class="token boolean">NULL</span>         <span class="token operator">|</span>
<span class="token operator">|</span> Google        <span class="token operator">|</span> <span class="token boolean">NULL</span>         <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+--------------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> runoob_test_tbl <span class="token keyword">WHERE</span> runoob_count <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------------+--------------+</span>
<span class="token operator">|</span> runoob_author <span class="token operator">|</span> runoob_count <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+--------------+</span>
<span class="token operator">|</span> RUNOOB        <span class="token operator">|</span> <span class="token number">20</span>           <span class="token operator">|</span>
<span class="token operator">|</span> FK            <span class="token operator">|</span> <span class="token number">20</span>           <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+--------------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="更新数据"><a href="#更新数据" class="header-anchor">#</a> 更新数据</h3> <p>如果我们需要修改或更新 MySQL 中的数据，我们可以使用 SQL <strong>UPDATE 命令</strong>来操作。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> table_name <span class="token keyword">SET</span> field1<span class="token operator">=</span>new<span class="token operator">-</span>value1<span class="token punctuation">,</span> field2<span class="token operator">=</span>new<span class="token operator">-</span>value2
<span class="token punctuation">[</span><span class="token keyword">WHERE</span> Clause<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>update</strong>  哪个表  <strong>set</strong>(设置字段)</p> <p>​			where  找到要更新set的对象</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">UPDATE</span> runoob_tbl <span class="token keyword">SET</span> runoob_title<span class="token operator">=</span><span class="token string">'学习 C++'</span> <span class="token keyword">WHERE</span> runoob_id<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> runoob_tbl <span class="token keyword">WHERE</span> runoob_id<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+--------------+---------------+-----------------+</span>
<span class="token operator">|</span> runoob_id <span class="token operator">|</span> runoob_title <span class="token operator">|</span> runoob_author <span class="token operator">|</span> submission_date <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+--------------+---------------+-----------------+</span>
<span class="token operator">|</span> <span class="token number">3</span>         <span class="token operator">|</span> 学习 C<span class="token operator">+</span><span class="token operator">+</span>   <span class="token operator">|</span> RUNOOB<span class="token punctuation">.</span>COM    <span class="token operator">|</span> <span class="token number">2016</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">06</span>      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+--------------+---------------+-----------------+</span>
<span class="token number">1</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="删除数据"><a href="#删除数据" class="header-anchor">#</a> 删除数据</h3> <p>使用 SQL 的 <strong>DELETE FROM 命令来删除 MySQL 数据表中的记录。</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> table_name <span class="token punctuation">[</span><span class="token keyword">WHERE</span> Clause<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>delete 要指定字段啊！！！</p> <ul><li>如果没有指定 WHERE 子句，MySQL 表中的所有记录将被删除。</li> <li>你可以在 WHERE 子句中指定任何条件</li> <li>您可以在单个表中一次性删除记录</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">use</span> RUNOOB<span class="token punctuation">;</span>
<span class="token keyword">Database</span> changed
mysql<span class="token operator">&gt;</span> <span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> runoob_tbl <span class="token keyword">WHERE</span> runoob_id<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">row</span> affected <span class="token punctuation">(</span><span class="token number">0.23</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="mysql函数"><a href="#mysql函数" class="header-anchor">#</a> MySQL函数</h2> <p>1.截取函数：substring()</p> <p>用法：<a href="https://so.csdn.net/so/search?q=SUBSTRING&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">SUBSTRING<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>(str ,n ,m)：返回字符串str从第n个字符截取到第m个字符；</p> <p>2.拼接函数：concat()</p> <p>用法：select concat(A,B) 或者select A || B</p> <p>3.大写函数UPPER()</p> <h2 id="事务"><a href="#事务" class="header-anchor">#</a> 事务</h2> <p>MySQL 事务主要用于处理操作量大，复杂度高的数据。比如说，在人员管理系统中，你删除一个人员，你既需要删除人员的基本资料，也要删除和该人员相关的信息，如信箱，文章等等，这样，这些数据库操作语句就构成一个事务！</p> <blockquote><p>简而言之，事务是对数据库的一系列操作</p></blockquote> <ul><li>在 MySQL 中<strong>只有使用了 Innodb 数据库引擎的数据库或表才支持事务</strong>。</li> <li>事务处理可以用来维护数据库的完整性，<strong>保证成批的 SQL 语句要么全部执行，要么全部不执行。</strong></li> <li>事务用来管理 insert,update,delete 语句</li></ul> <p>事务是必须满足4个条件（<strong>ACID</strong>）：：原子性（<strong>A</strong>tomicity，或称不可分割性）、一致性（<strong>C</strong>onsistency）、隔离性（<strong>I</strong>solation，又称独立性）、持久性（<strong>D</strong>urability）。</p> <ul><li>**原子性：<strong>一个事务（transaction）中的所有操作，<strong>要么全部完成，要么全部不完成</strong>，不会结束在中间某个环节。事务在执行过程中发生错误，会被</strong>回滚（Rollback）**到事务开始前的状态，就像这个事务从来没有执行过一样。</li> <li>**一致性：**在事务开始之前和事务结束以后，数据库的完整性没有被破坏。这表示写入的资料必须完全符合所有的预设规则，这包含资料的精确度、串联性以及后续数据库可以自发性地完成预定的工作。</li> <li>**隔离性：**数据库允许多个并发事务同时对其数据进行读写和修改的能力，隔离性可以防止多个事务并发执行时由于交叉执行而导致数据的不一致。事务隔离分为不同级别，包括读未提交（Read uncommitted）、读提交（read committed）、可重复读（repeatable read）和串行化（Serializable）。</li> <li>**持久性：**事务处理结束后，对数据的修改就是永久的，即便系统故障也不会丢失。</li></ul> <p>假如有这样一款游戏，游戏分为一个个<strong>关卡</strong>，单个关卡内需要打败很多Boss才能闯关成功，每个关卡闯关成功游戏会自动进行记录游戏进度，并将游戏进度上传远程服务器，<strong>除非重置游戏，否则游戏进度不可回退</strong>。</p> <p><strong>原子性</strong>：最小操作逻辑，不可再进行分割；就像游戏的一个关卡一样，关卡内不管闯到什么地方，只要失败了就会回到闯关卡前。</p> <p><strong>事务，将原本是一系列的数据库操作包裹成一个关卡（一个原子操作），要么闯过关卡，要么回到关卡前。</strong></p> <p><strong>持久性</strong>：当事务执行完毕（事务提交），该操作将永久的改变了数据库中的数据。即关卡闯关完成，<strong>游戏进度永久保存在了服务器中。</strong></p> <p><strong>事务，能保证AID，即原子性，隔离性，持久性。但是一致性无法通过事务来保证，一致性依赖于应用层，开发者。</strong></p> <ul><li><p><strong>BEGIN 或 START TRANSACTION 显式地开启一个事务</strong>；</p></li> <li><p><strong>COMMIT</strong> 也可以使用 COMMIT WORK，不过二者是等价的。COMMIT 会提交事务，并使已对数据库进行的所有修改成为永久性的；</p></li> <li><p><strong>ROLLBACK</strong> 也可以使用 ROLLBACK WORK，不过二者是等价的。回滚会结束用户的事务，并撤销正在进行的所有未提交的修改；</p></li> <li><p><strong>SAVEPOINT identifier，SAVEPOINT 允许在事务中创建一个保存点，一个事务中可以有多个 SAVEPOINT；（相当于打个标记）</strong></p> <ul><li><p>savepoint 是在数据库事务处理中<strong>实现“子事务”（subtransaction），也称为嵌套事务的方法</strong>。事务可以回滚到 savepoint 而不影响 savepoint 创建前的变化, 不需要放弃整个事务。</p> <p>ROLLBACK 回滚的用法可以设置保留点 SAVEPOINT，执行多条操作时，回滚到想要的那条语句之前。</p> <p>使用 SAVEPOINT</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SAVEPOINT</span> savepoint_name<span class="token punctuation">;</span>    <span class="token comment">// 声明一个 savepoint</span>

<span class="token keyword">ROLLBACK</span> <span class="token keyword">TO</span> savepoint_name<span class="token punctuation">;</span>  <span class="token comment">// 回滚到savepoint</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>删除 SAVEPOINT</p> <p>保留点再事务处理完成（执行一条 ROLLBACK 或 COMMIT）后自动释放。</p> <p>MySQL5 以来，可以用:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">RELEASE</span> <span class="token keyword">SAVEPOINT</span> savepoint_name<span class="token punctuation">;</span>  <span class="token comment">// 删除指定保留点</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>RELEASE SAVEPOINT identifier 删除一个事务的保存点，当没有指定的保存点时，执行该语句会抛出一个异常；</p></li> <li><p><strong>ROLLBACK TO identifier 把事务回滚到标记点；</strong></p></li> <li><p>SET TRANSACTION 用来设置事务的隔离级别。InnoDB 存储引擎提供事务的隔离级别有READ UNCOMMITTED、READ COMMITTED、REPEATABLE READ 和 SERIALIZABLE。</p></li></ul> <p>1、用 BEGIN, ROLLBACK, COMMIT来实现</p> <ul><li><strong>BEGIN</strong> 开始一个事务</li> <li><strong>ROLLBACK</strong> 事务回滚</li> <li><strong>COMMIT</strong> 事务确认</li></ul> <p>2、直接用 SET 来改变 MySQL 的自动提交模式:</p> <ul><li><strong>SET AUTOCOMMIT=0</strong> 禁止自动提交</li> <li><strong>SET AUTOCOMMIT=1</strong> 开启自动提交</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">use</span> RUNOOB<span class="token punctuation">;</span>
<span class="token keyword">Database</span> changed
mysql<span class="token operator">&gt;</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> runoob_transaction_test<span class="token punctuation">(</span> id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">engine</span><span class="token operator">=</span><span class="token keyword">innodb</span><span class="token punctuation">;</span>  <span class="token comment"># 创建数据表</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.04</span> sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> runoob_transaction_test<span class="token punctuation">;</span>
Empty <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> <span class="token keyword">begin</span><span class="token punctuation">;</span>  <span class="token comment"># 开始事务</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> runoob_transaction_test <span class="token keyword">value</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> runoob_transaction_test <span class="token keyword">value</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> <span class="token keyword">commit</span><span class="token punctuation">;</span> <span class="token comment"># 提交事务</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span>  <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> runoob_transaction_test<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+</span>
<span class="token operator">|</span> <span class="token number">5</span>    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">6</span>    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> <span class="token keyword">begin</span><span class="token punctuation">;</span>    <span class="token comment"># 开始事务</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span>  <span class="token keyword">insert</span> <span class="token keyword">into</span> runoob_transaction_test <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> <span class="token keyword">rollback</span><span class="token punctuation">;</span>   <span class="token comment"># 回滚</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span>   <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> runoob_transaction_test<span class="token punctuation">;</span>   <span class="token comment"># 因为回滚所以数据没有插入</span>
<span class="token operator">+</span><span class="token comment">------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+</span>
<span class="token operator">|</span> <span class="token number">5</span>    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">6</span>    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><h2 id="sql注入"><a href="#sql注入" class="header-anchor">#</a> SQL注入</h2> <p>所谓SQL注入，就是通过把<strong>SQL命令插入到Web表单递交或输入域名或页面请求的查询字符串</strong>，最终达到<strong>欺骗服务器执行恶意的SQL命令。</strong></p> <p>我们永远不要信任用户的输入，我们<strong>必须认定用户输入的数据都是不安全的，我们都需要对用户输入的数据进行过滤处理。</strong></p> <p>让我们看下在没有过滤特殊字符时，出现的SQL情况：</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token comment">// 设定$name 中插入了我们不需要的SQL语句</span>
<span class="token variable">$name</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;Qadir'; DELETE FROM users;&quot;</span><span class="token punctuation">;</span>
 <span class="token function">mysqli_query</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;SELECT * FROM users WHERE name='<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$name</span><span class="token punctuation">}</span></span>'&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>以上的注入语句中，我们没有对 <mjx-container jax="CHTML" class="MathJax"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c c="n"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c c="a"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c c="m"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c c="e"></mjx-c></mjx-mi><mjx-mo space="4" class="mjx-n"><mjx-utext variant="normal" style="font-family:serif;">的</mjx-utext><mjx-utext variant="normal" style="font-family:serif;">变</mjx-utext><mjx-utext variant="normal" style="font-family:serif;">量</mjx-utext><mjx-utext variant="normal" style="font-family:serif;">进</mjx-utext><mjx-utext variant="normal" style="font-family:serif;">行</mjx-utext><mjx-utext variant="normal" style="font-family:serif;">过</mjx-utext><mjx-utext variant="normal" style="font-family:serif;">滤</mjx-utext><mjx-utext variant="normal" style="font-family:serif;">，</mjx-utext></mjx-mo></mjx-math></mjx-container>name 中插入了我们不需要的SQL语句，将删除 users 表中的所有数据。</p> <p><strong>欺骗执行</strong></p> <p>防止SQL注入，我们需要注意以下几个要点：</p> <ul><li>1.<strong>永远不要信任用户的输入</strong>。对用户的输入进行校验，可以通过<strong>正则表达式，或限制长度；对单引号和 双&quot;-&quot;进行转换等</strong>。</li> <li>2.永远<strong>不要使用动态拼装sql，可以使用参数化的sql或者直接使用存储过程进行数据查询存取。</strong></li> <li>3.永远不要使用管理员权限的数据库连接，为每个应用使用单独的权限有限的数据库连接。</li> <li>4.不要把机密信息直接存放，加密或者hash掉密码和敏感的信息。</li> <li>5.应用的异常信息应该给出尽可能少的提示，最好使用自定义的错误信息对原始错误信息进行包装</li></ul> <h2 id="mysql-数据导入导出"><a href="#mysql-数据导入导出" class="header-anchor">#</a> MySQL 数据导入导出</h2> <p>数据库不一定是存储在自己电脑的MySQL服务上的，但开发的时候一般会先拿到自己的MySQL服务上做一些开发调试，这样就需要导入数据库</p> <p>然后有些在自己电脑上开发好之后，也要发布部署到服务器上  这就需要数据库的导入导出。</p></div></div> <div class="page-slot page-slot-bottom"><!-- 横向自适应 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6620245489"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/09/18, 21:30:41</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><!----> <a href="/notebook/pages/bbe5ea/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">MySQL 01  基础架构：一条SQL查询语句是如何执行的？</div></a></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/notebook/pages/bbe5ea/">MySQL 01  基础架构：一条SQL查询语句是如何执行的？</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/notebook/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/notebook/pages/cb9907/"><div>
            RabbitMQ总结
            <!----></div></a> <span class="date">04-25</span></dt></dl><dl><dd>02</dd> <dt><a href="/notebook/pages/baaf76/"><div>
            LinkedHashMap源码分析
            <!----></div></a> <span class="date">04-25</span></dt></dl><dl><dd>03</dd> <dt><a href="/notebook/pages/eacb25/"><div>
            ConcurrentHashMap源码分析
            <!----></div></a> <span class="date">04-25</span></dt></dl> <dl><dd></dd> <dt><a href="/notebook/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="1484311465@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/progressforeverever" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2023-2024
    <span></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><span class="close-but">×</span> <div><!-- 固定160*160px -->
      <ins class="adsbygoogle"
          style="display:inline-block;max-width:160px;max-height:160px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="8377369658"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      </div></div></div></div><div class="global-ui"><div></div></div></div>
    <script src="/notebook/assets/js/app.8978aa11.js" defer></script><script src="/notebook/assets/js/2.3295585a.js" defer></script><script src="/notebook/assets/js/118.81328820.js" defer></script>
  </body>
</html>
